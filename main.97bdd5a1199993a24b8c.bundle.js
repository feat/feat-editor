(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(1219),__webpack_require__(118),__webpack_require__(75),__webpack_require__(171),__webpack_require__(167),__webpack_require__(168),__webpack_require__(169),__webpack_require__(170),__webpack_require__(110),__webpack_require__(100),__webpack_require__(101),__webpack_require__(73),__webpack_require__(102),__webpack_require__(103),__webpack_require__(88),__webpack_require__(104);var react=__webpack_require__(5),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(4),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__(90),classnames_default=__webpack_require__.n(classnames),Draft=__webpack_require__(0),DraftOffsetKey=__webpack_require__(89),DraftOffsetKey_default=__webpack_require__.n(DraftOffsetKey),constants=__webpack_require__(2);function isHandled(value){return value===constants.c||!0===value}__webpack_require__(133),__webpack_require__(202);var immutable=__webpack_require__(9),immutable_default=__webpack_require__.n(immutable);var defaultBlockData={};function addNewBlockAt(editorState,pivotBlockKey){var placement=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",newBlockType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unstyled",initialData=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},changeType=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"add-block",content=editorState.getCurrentContent(),blockMap=content.getBlockMap(),block=blockMap.get(pivotBlockKey);if(!block)throw new Error("The pivot key - ".concat(pivotBlockKey," is not present in blockMap."));var blocksBefore=blockMap.toSeq().takeUntil((function(v){return v===block})),blocksAfter=blockMap.toSeq().skipUntil((function(v){return v===block})).rest(),newBlockKey=Object(Draft.genKey)(),newBlock=new Draft.ContentBlock({key:newBlockKey,type:newBlockType,text:"",characterList:Object(immutable.List)(),depth:0,data:Object(immutable.Map)(Object.assign({},defaultBlockData[newBlockType],initialData))}),orderArr="after"===placement?[[pivotBlockKey,block],[newBlockKey,newBlock]]:[[newBlockKey,newBlock],[pivotBlockKey,block]],newBlockMap=blocksBefore.concat(orderArr,blocksAfter).toOrderedMap(),selection=editorState.getSelection(),newContent=content.merge({blockMap:newBlockMap,selectionBefore:selection,selectionAfter:selection.merge({anchorKey:newBlockKey,anchorOffset:0,focusKey:newBlockKey,focusOffset:0,isBackward:!1})});return Draft.EditorState.push(editorState,newContent,changeType)}__webpack_require__(105),__webpack_require__(2437),__webpack_require__(480),__webpack_require__(479);var plugins_CodeBlock={isInCodeBlock:function isInCodeBlock(editorState){var content=editorState.getCurrentContent(),selection=editorState.getSelection(),currentBlock=content.getBlockForKey(selection.getStartKey());return currentBlock&&"code-block"===currentBlock.getType()},handleReturn:function handleReturn(e,editorState){var content=editorState.getCurrentContent(),selection=editorState.getSelection();if(selection.isCollapsed()&&Draft.KeyBindingUtil.hasCommandModifier(e)){var currentKey=selection.getStartKey();if(currentKey===content.getLastBlock().getKey())return addNewBlockAt(editorState,currentKey,"after","unstyled",void 0,"exit-code-block");var newSelection=new Draft.SelectionState({anchorKey:content.getKeyAfter(currentKey),focusKey:content.getKeyAfter(currentKey),anchoroffset:0,focusOffset:0});return Draft.EditorState.forceSelection(editorState,newSelection)}return Draft.RichUtils.insertSoftNewline(editorState)},handleTab:function handleTab(e,editorState){return e.shiftKey?function shiftIndent(editorState){var content=editorState.getCurrentContent(),selection=editorState.getSelection(),selectionStart=selection.getStartOffset(),selectionEnd=selection.getEndOffset(),blockText=content.getBlockForKey(selection.getStartKey()).getText(),beforeText=blockText.slice(0,selectionStart),afterText=blockText.slice(selectionEnd),firstLineIndex=beforeText.lastIndexOf("\n"),lastLineIndex=selectionEnd+afterText.indexOf("\n"),outputText=blockText.slice(firstLineIndex,lastLineIndex).split("\n").map((function(lineText){return"  "===lineText.slice(0,2)?lineText.slice(2):lineText})).join("\n"),targetSelection=selection.merge({anchorOffset:firstLineIndex,focusOffset:lastLineIndex,isBackward:!1}),newContent=Draft.Modifier.replaceText(content,targetSelection,outputText);return Draft.EditorState.push(editorState,newContent,"shift-indent-code")}(editorState):function indent(editorState){var content=editorState.getCurrentContent(),selection=editorState.getSelection(),newContent=Draft.Modifier.replaceText(content,selection,"  ");return Draft.EditorState.push(editorState,newContent,"indent-code")}(editorState)},handleKeyCommand:function handleKeyCommand(command,editorState){var content=editorState.getCurrentContent(),selection=editorState.getSelection(),currentBlock=content.getBlockForKey(selection.getStartKey());switch(command){case"select-all":var newSelection=new Draft.SelectionState({anchorKey:currentBlock.getKey(),anchorOffset:0,focusKey:currentBlock.getKey(),focusOffset:currentBlock.getLength()});return Draft.EditorState.forceSelection(editorState,newSelection,"update-selection")}return null},handlePastedText:function handlePastedText(text,html,editorState){var content=editorState.getCurrentContent(),selection=editorState.getSelection(),newContent=Draft.Modifier.replaceText(content,selection,text);return Draft.EditorState.push(editorState,newContent,"paste-code")}};var Blockquote={isInBlockquote:function isInBlockquote(editorState){var content=editorState.getCurrentContent(),selection=editorState.getSelection(),currentBlock=content.getBlockForKey(selection.getStartKey());return currentBlock&&currentBlock.getType()===constants.a.BLOCKQUOTE},handleReturn:function Blockquote_handleReturn(e,editorState){var content=editorState.getCurrentContent(),selection=editorState.getSelection();if(selection.isCollapsed()&&Draft.KeyBindingUtil.hasCommandModifier(e)){var splitBlock=Draft.Modifier.splitBlock(content,selection),afterSelection=splitBlock.getSelectionAfter(),resetedContent=Draft.Modifier.setBlockType(splitBlock,afterSelection,"unstyled");return Draft.EditorState.push(editorState,resetedContent,"exit-blockquote")}return Draft.RichUtils.insertSoftNewline(editorState)}};__webpack_require__(2439),__webpack_require__(2440),__webpack_require__(748),__webpack_require__(338);function resetBlockWithType(editorState){var newType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:constants.a.UNSTYLED,overrides=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},contentState=editorState.getCurrentContent(),selectionState=editorState.getSelection(),key=selectionState.getStartKey(),blockMap=contentState.getBlockMap(),block=blockMap.get(key),newBlock=block.mergeDeep(overrides,{type:newType,data:Object(immutable.Map)()}),selectionAfter=selectionState.merge({anchorOffset:0,focusOffset:0}),newContentState=contentState.merge({blockMap:blockMap.set(key,newBlock)});return 0===newType.indexOf("header")&&(newContentState=Draft.Modifier.removeInlineStyle(newContentState,selectionState.merge({anchorOffset:0,focusOffset:newBlock.getLength()}),constants.d.BOLD)),newContentState=newContentState.set("selectionAfter",selectionAfter),Draft.EditorState.push(editorState,newContentState,"change-block-type")}var getCurrentBlock=__webpack_require__(245),headerBlocks=[null,"header-one","header-two","header-three","header-four","header-five","header-six"],inlineMatchers={BOLD:/(\*{2}|_{2})((?!\1).*?)(\1)$/,ITALIC:/(\*{1}|_{1})((?!\1).*?)(\1)$/,CODE:/(`)((?!\1)[^`]*?)(\1)$/,STRIKETHROUGH:/(~{2})((?!\1)[^~]*?)(\1)$/},codeBlockReg=/^```((?!`)[\w-]*)?/;function checkCharacterForState(_char,editorState){var newEditorState=function handleBlockType(_char3,editorState){for(var newEditorState,content=editorState.getCurrentContent(),selection=editorState.getSelection(),currentBlock=content.getBlockForKey(selection.getStartKey()),text=currentBlock.getText(),position=selection.getAnchorOffset(),line=[text.slice(0,position),_char3,text.slice(position)].join(""),blockType=currentBlock.getType(),i=1;i<=6;i+=1)0===line.indexOf("".concat(_sharps(i)," "))&&(newEditorState=resetBlockWithType(editorState,headerBlocks[i],{text:line.replace(/^#+\s/,"")}));var matchArr=line.match(/^[*-] (.*)$/);matchArr&&(newEditorState=resetBlockWithType(editorState,"unordered-list-item",{text:matchArr[1]}));(matchArr=line.match(/^[\d]\. (.*)$/))&&(newEditorState=resetBlockWithType(editorState,"ordered-list-item",{text:matchArr[1]}));(matchArr=line.match(/^> (.*)$/))&&"blockquote"!==blockType&&(console.log(matchArr[1]),newEditorState=resetBlockWithType(editorState,"blockquote",{text:matchArr[1]}));if(newEditorState)return newEditorState;return editorState}(_char,editorState);return editorState===newEditorState&&(newEditorState=function handleImage(_char4,editorState){return editorState}(0,editorState)),editorState===newEditorState&&(newEditorState=function handleLink(_char5,editorState){return editorState}(0,editorState)),editorState===newEditorState&&(newEditorState=function handleInlineStyle(_char6,editorState){var contentState=editorState.getCurrentContent(),selection=editorState.getSelection(),insertedState=Draft.Modifier.replaceText(contentState,selection,_char6),afterSelection=contentState.getSelectionAfter(),blockKey=afterSelection.getStartKey(),currentBlock=insertedState.getBlockForKey(blockKey),text=currentBlock.getText().slice(0,afterSelection.getStartOffset()),transformedContentState=insertedState,updated=!1;if(Object.keys(inlineMatchers).some((function(key){if("code-block"===currentBlock.getType()&&"CODE"===key)return!1;var matchArr=inlineMatchers[key].exec(text);if(matchArr){if(0===currentBlock.getType().indexOf("header")&&"BOLD"===key)return!0;var textLength=matchArr[2].length,startOffset=matchArr.index,textStartOffset=startOffset+matchArr[1].length,textEndOffset=textStartOffset+textLength,endOffset=startOffset+matchArr[0].length,rangeSelection=new Draft.SelectionState({anchorKey:blockKey,anchorOffset:textStartOffset,focusKey:blockKey,focusOffset:textEndOffset});transformedContentState=Draft.Modifier.applyInlineStyle(transformedContentState,rangeSelection,key),transformedContentState=Draft.Modifier.removeRange(transformedContentState,rangeSelection.merge({anchorOffset:textEndOffset,focusOffset:endOffset})),transformedContentState=Draft.Modifier.removeRange(transformedContentState,rangeSelection.merge({anchorOffset:startOffset,focusOffset:textStartOffset}));var finalSelection=rangeSelection.merge({anchorOffset:startOffset+textLength+_char6.length,focusOffset:startOffset+textLength+_char6.length,hasFocus:!0});return transformedContentState=transformedContentState.merge({selectionBefore:selection,selectionAfter:finalSelection}),updated=!0,!0}return!1})),updated)return Draft.EditorState.push(editorState,transformedContentState,"change-inline-style");return editorState}(_char,editorState)),newEditorState}function _sharps(len){for(var ret="";ret.length<len;)ret+="#";return ret}var AutoMarkdown={handleBeforeInput:function handleBeforeInput(_char2,editorState){if(_char2.match(/[A-z0-9_*~`]/))return!1;var newEditorState=checkCharacterForState(_char2,editorState);return editorState!==newEditorState&&newEditorState},handleReturn:function AutoMarkdown_handleReturn(e,editorState){var matchArr=Object(getCurrentBlock.a)(editorState).getText().match(codeBlockReg);return!!matchArr&&(e.preventDefault(),resetBlockWithType(editorState,"code-block",{text:"",characterList:immutable_default.a.List(),data:{language:matchArr[1]}}))}};var Atomic={isInAtomicBlock:function isInMediaBlock(editorState){var content=editorState.getCurrentContent(),selection=editorState.getSelection(),currentBlock=content.getBlockForKey(selection.getStartKey());return currentBlock&&"atomic"===currentBlock.getType()},handleReturn:function handleReturn_handleReturn(e,editorState){var selection=editorState.getSelection();return addNewBlockAt(editorState,selection.getStartKey(),"after","unstyled",void 0,"insert-fragment")}},resetBlockTypes=[constants.a.UNORDERED_LIST_ITEM,constants.a.ORDERED_LIST_ITEM];var adjustBlockDepthForContentState=__webpack_require__(752),adjustBlockDepthForContentState_default=__webpack_require__.n(adjustBlockDepthForContentState),blockResetFirst=[constants.a.ORDERED_LIST_ITEM,constants.a.UNORDERED_LIST_ITEM,constants.a.CODE_BLOCK,constants.a.BLOCKQUOTE];function handleKeyCommand_handleTab(editorState,onChange,shiftKey){var maxDepth=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,selection=editorState.getSelection(),key=selection.getAnchorKey();if(key===selection.getFocusKey()){var content=editorState.getCurrentContent(),block=content.getBlockForKey(key),type=block.getType();if(type===constants.a.UNORDERED_LIST_ITEM||type===constants.a.ORDERED_LIST_ITEM){var depth=block.getDepth();if(shiftKey||depth!==maxDepth){var withAdjustment=adjustBlockDepthForContentState_default()(content,selection,shiftKey?-1:1,maxDepth);return onChange(Draft.EditorState.push(editorState,withAdjustment,"adjust-depth")),constants.c}}}}function handleKeyCommand_handleKeyCommand(editorState,onChange,command){var newEditorState;return plugins_CodeBlock.isInCodeBlock(editorState)&&(newEditorState=plugins_CodeBlock.handleKeyCommand(command,editorState))?(onChange(newEditorState),constants.c):"tab"===command?handleKeyCommand_handleTab(editorState,onChange):"shift-tab"===command?handleKeyCommand_handleTab(editorState,onChange,!0):"backspace"===command&&isHandled(function handleBackspace(editorState,onChange){var content=editorState.getCurrentContent(),selection=editorState.getSelection(),currentBlock=content.getBlockForKey(selection.getStartKey());if(selection.isCollapsed()&&0===selection.getAnchorOffset()&&""===currentBlock.getText()&&blockResetFirst.indexOf(currentBlock.getType())>-1){var resetBlockType=Draft.Modifier.setBlockType(content,selection,"unstyled");return onChange(Draft.EditorState.push(editorState,resetBlockType,"change-block-type")),constants.c}if("atomic"===currentBlock.getType()){var blockMap=content.getBlockMap(),blockBefore=content.getBlockBefore(currentBlock.getKey()),newBlockMap=blockMap.delete(currentBlock.getKey()),newContent=content.set("blockMap",newBlockMap),newSelection=new Draft.SelectionState({anchorKey:blockBefore.getKey(),focusKey:blockBefore.getKey(),anchorOffset:blockBefore.getLength(),focusOffset:blockBefore.getLength()}),newState=Draft.EditorState.push(editorState,newContent,"delete-atomic-block");return onChange(Draft.EditorState.forceSelection(newState,newSelection)),constants.c}}(editorState,onChange))?constants.c:"select-all"===command?function handleSelectAll(editorState,onChange){var blockMap=editorState.getCurrentContent().getBlockMap(),newSelection=new Draft.SelectionState({anchorKey:blockMap.first().getKey(),anchorOffset:0,focusKey:blockMap.last().getKey(),focusOffset:blockMap.last().getLength()});return onChange(Draft.EditorState.forceSelection(editorState,newSelection)),constants.c}(editorState,onChange):constants.e}var handleToggleBlock=__webpack_require__(494),handleToggleInlineStyle=__webpack_require__(244);function keyBindingFn(e){return"Tab"===e.key?e.shiftKey?"shift-tab":"tab":"a"===e.key&&Draft.KeyBindingUtil.hasCommandModifier(e)?"select-all":Object(Draft.getDefaultKeyBinding)(e)}__webpack_require__(749),__webpack_require__(1221);var DraftEditorLeaf_react=__webpack_require__(483),DraftEditorLeaf_react_default=__webpack_require__.n(DraftEditorLeaf_react),jsx_runtime=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var CodeBlock_CodeBlock=function(_EditorBlock){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CodeBlock,_EditorBlock);var _super=_createSuper(CodeBlock);function CodeBlock(){return _classCallCheck(this,CodeBlock),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CodeBlock,[{key:"_renderChildren",value:function _renderChildren(){for(var _this=this,block=this.props.block,blockKey=block.getKey(),text=block.getText(),lastLeafSet=this.props.tree.size-1,hasSelection=function isBlockOnSelectionEdge(selection,key){return selection.getAnchorKey()===key||selection.getFocusKey()===key}(this.props.selection,blockKey),children=this.props.tree.map((function(leafSet,ii){var leavesForLeafSet=leafSet.get("leaves"),lastLeaf=leavesForLeafSet.size-1,leaves=leavesForLeafSet.map((function(leaf,jj){var offsetKey=DraftOffsetKey_default.a.encode(blockKey,ii,jj),start=leaf.get("start"),end=leaf.get("end");return Object(jsx_runtime.jsx)(DraftEditorLeaf_react_default.a,{offsetKey:offsetKey,block:block,start:start,selection:hasSelection?_this.props.selection:void 0,forceSelection:_this.props.forceSelection,text:text.slice(start,end),styleSet:block.getInlineStyleAt(start),customStyleMap:_this.props.customStyleMap,customStyleFn:_this.props.customStyleFn,isLast:ii===lastLeafSet&&jj===lastLeaf},offsetKey)})).toArray(),decoratorKey=leafSet.get("decoratorKey");if(null==decoratorKey)return leaves;if(!_this.props.decorator)return leaves;var decorator=_this.props.decorator,DecoratorComponent=decorator.getComponentForKey(decoratorKey);if(!DecoratorComponent)return leaves;var decoratorProps=decorator.getPropsForKey(decoratorKey),decoratorOffsetKey=DraftOffsetKey_default.a.encode(blockKey,ii,0),decoratedText=text.slice(leavesForLeafSet.first().get("start"),leavesForLeafSet.last().get("end"));return Object(react.createElement)(DecoratorComponent,Object.assign({},decoratorProps,{contentState:_this.props.contentState,decoratedText:decoratedText,dir:"ltr",key:decoratorOffsetKey,entityKey:block.getEntityAt(leafSet.get("start")),offsetKey:decoratorOffsetKey}),leaves)})).toArray(),start=0,lines=[],cursor=1;cursor<children.length;cursor+=1){var target=children[cursor];target.props&&target.props.lineBreak&&(lines.push(Object(jsx_runtime.jsx)("span",{className:"line",children:children.slice(start,cursor+1)},"line-".concat(target.props.num))),start=cursor+1)}var item=children.slice(start);return lines.push(Object(jsx_runtime.jsx)("span",{className:classnames_default()("line",{"is-empty":0===item.length}),children:item},"last")),Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:classnames_default()("public-DraftStyleDefault-codeBlock-content",this.props.className),children:lines}),Object(jsx_runtime.jsxs)("div",{contentEditable:!1,className:"public-DraftStyleDefault-codeBlock-hint",children:["Press ",Object(jsx_runtime.jsx)("kbd",{children:"⌘"})," + ",Object(jsx_runtime.jsx)("kbd",{children:"Enter"})," to exit."]})]})}}]),CodeBlock}(Draft.EditorBlock);CodeBlock_CodeBlock.propTypes={className:prop_types_default.a.string,block:prop_types_default.a.instanceOf(Draft.ContentBlock).isRequired,blockProps:prop_types_default.a.shape({getEditorState:prop_types_default.a.func,setEditorState:prop_types_default.a.func,setReadOnly:prop_types_default.a.func}).isRequired};var component_CodeBlock=CodeBlock_CodeBlock,ImageUploader=__webpack_require__(493),Image=__webpack_require__(488);function AtomicBlock_typeof(obj){return(AtomicBlock_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function AtomicBlock_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function AtomicBlock_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function AtomicBlock_setPrototypeOf(o,p){return(AtomicBlock_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function AtomicBlock_createSuper(Derived){var hasNativeReflectConstruct=function AtomicBlock_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=AtomicBlock_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=AtomicBlock_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return AtomicBlock_possibleConstructorReturn(this,result)}}function AtomicBlock_possibleConstructorReturn(self,call){return!call||"object"!==AtomicBlock_typeof(call)&&"function"!=typeof call?function AtomicBlock_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function AtomicBlock_getPrototypeOf(o){return(AtomicBlock_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var AtomicBlock_AtomicBlock=function(_React$PureComponent){!function AtomicBlock_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&AtomicBlock_setPrototypeOf(subClass,superClass)}(AtomicBlock,_React$PureComponent);var _super=AtomicBlock_createSuper(AtomicBlock);function AtomicBlock(){var _this;AtomicBlock_classCallCheck(this,AtomicBlock);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).handleClick=function(e){e.preventDefault();var _this$props=_this.props,blockProps=_this$props.blockProps,block=_this$props.block,offsetKey=_this$props.offsetKey,editorState=blockProps.getEditorState(),node=document.querySelectorAll('[data-offset-key="'.concat(offsetKey,'"]'))[0],selection=window.getSelection(),range=document.createRange();range.setStart(node,0),range.setEnd(node,0),selection.removeAllRanges(),selection.addRange(range);var newEditorState=Draft.EditorState.forceSelection(editorState,new Draft.SelectionState({anchorKey:block.getKey(),anchorOffset:0,focusKey:block.getKey(),focusOffset:0,isBackward:!1}));blockProps.setEditorState(newEditorState)},_this}return function AtomicBlock_createClass(Constructor,protoProps,staticProps){return protoProps&&AtomicBlock_defineProperties(Constructor.prototype,protoProps),staticProps&&AtomicBlock_defineProperties(Constructor,staticProps),Constructor}(AtomicBlock,[{key:"render",value:function render(){var _this$props2=this.props,block=_this$props2.block,contentState=_this$props2.contentState,blockProps=_this$props2.blockProps,offsetKey=_this$props2.offsetKey,direction=_this$props2.direction,entityKey=block.getEntityAt(0);if(!entityKey)return Object(jsx_runtime.jsx)("div",{children:"EMPTY ATOMIC BLOCK"});var entity=contentState.getEntity(entityKey),entityType=entity.getType(),entityData=entity.getData(),isFocused=blockProps.isFocused,cx=classnames_default()({"is-focused":isFocused});switch(entityType){case constants.b.IMAGE_UPLOADER:return Object(jsx_runtime.jsx)(ImageUploader.a,{className:cx,isFocused:!0,entityKey:entityKey,offsetKey:offsetKey,contentState:contentState,uploadManager:blockProps.uploadManager,uploadKey:entityData.key,onClick:isFocused?void 0:this.handleClick});case constants.b.IMAGE:return Object(jsx_runtime.jsx)(Image.a,{className:cx,entityKey:entityKey,contentState:contentState,offsetKey:offsetKey,direction:direction,onClick:isFocused?void 0:this.handleClick});default:return Object(jsx_runtime.jsxs)("div",{children:["TODO: ",entityType]})}}}]),AtomicBlock}(react_default.a.PureComponent);AtomicBlock_AtomicBlock.propTypes={offsetKey:prop_types_default.a.string.isRequired,direction:prop_types_default.a.string,block:prop_types_default.a.object,contentState:prop_types_default.a.object,blockProps:prop_types_default.a.shape({getEditorState:prop_types_default.a.func,setEditorState:prop_types_default.a.func,uploadManager:prop_types_default.a.object,isFocused:prop_types_default.a.bool,setReadOnly:prop_types_default.a.func,isReadOnly:prop_types_default.a.func}).isRequired},AtomicBlock_AtomicBlock.__docgenInfo={description:"",methods:[{name:"handleClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"AtomicBlock",props:{offsetKey:{type:{name:"string"},required:!0,description:""},direction:{type:{name:"string"},required:!1,description:""},block:{type:{name:"object"},required:!1,description:""},contentState:{type:{name:"object"},required:!1,description:""},blockProps:{type:{name:"shape",value:{getEditorState:{name:"func",required:!1},setEditorState:{name:"func",required:!1},uploadManager:{name:"object",required:!1},isFocused:{name:"bool",required:!1},setReadOnly:{name:"func",required:!1},isReadOnly:{name:"func",required:!1}}},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AtomicBlock/index.js"]={name:"AtomicBlock",docgenInfo:AtomicBlock_AtomicBlock.__docgenInfo,path:"src/components/AtomicBlock/index.js"});var camelCase=__webpack_require__(1227),camelCase_default=__webpack_require__.n(camelCase);function blockStyleFn(block){var blockType=block.getType();if("ordered-list-item"!==blockType&&"unordered-list-item"!==blockType)return"public-DraftStyleDefault-".concat(camelCase_default()(blockType))}__webpack_require__(2468),__webpack_require__(2469),__webpack_require__(146),__webpack_require__(147);function manager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var FileUpload=new(function(){function UploadManager(){var _this=this;!function manager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UploadManager),this.getTaskCreator=function(key){return _this.taskCreators[key]},this.registerTaskCreator=function(fn){var taskTypeKey=_this.taskTypeKey;return _this.taskCreators[taskTypeKey]=fn,_this.taskTypeKey=taskTypeKey+1,taskTypeKey},this.key=1,this.taskTypeKey=1,this.data={},this.events={},this.taskCreators={}}return function manager_createClass(Constructor,protoProps,staticProps){return protoProps&&manager_defineProperties(Constructor.prototype,protoProps),staticProps&&manager_defineProperties(Constructor,staticProps),Constructor}(UploadManager,[{key:"subscribe",value:function subscribe(key,func){this.events[key]||(this.events[key]=[]),this.events[key].push(func)}},{key:"unsubscribe",value:function unsubscribe(key,func){this.events[key]&&(this.events[key]=this.events[key].filter((function(f){return f!==func})))}},{key:"dispatch",value:function dispatch(key){var _this2=this;this.events[key].forEach((function(fn){return fn(_this2.data[key])}))}},{key:"getTask",value:function getTask(key){return this.data[key]}},{key:"addTask",value:function addTask(options){var key=this.getNewKey();return this.beginTask(key,options),key}},{key:"beginTask",value:function beginTask(key,options){var _this3=this,promise=this.getTaskCreator(options.key)(options.data);this.data[key]={loading:!0,options:options,promise:promise},promise.then((function(data){_this3.data[key]={data:data,loading:!1,resolved:!0}}),(function(err){_this3.data[key]={error:err||!0,loading:!1}})).then((function(){_this3.dispatch(key)}))}},{key:"retryTask",value:function retryTask(key){var options=this.data[key].options;this.beginTask(key,options)}},{key:"getNewKey",value:function getNewKey(){var key=this.key;return this.key=key+1,key}}]),UploadManager}());function Editor_typeof(obj){return(Editor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Editor_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Editor_setPrototypeOf(o,p){return(Editor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Editor_createSuper(Derived){var hasNativeReflectConstruct=function Editor_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Editor_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Editor_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Editor_possibleConstructorReturn(this,result)}}function Editor_possibleConstructorReturn(self,call){return!call||"object"!==Editor_typeof(call)&&"function"!=typeof call?Editor_assertThisInitialized(self):call}function Editor_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Editor_getPrototypeOf(o){return(Editor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Editor_FeatEditor=function(_Component){!function Editor_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Editor_setPrototypeOf(subClass,superClass)}(FeatEditor,_Component);var _super=Editor_createSuper(FeatEditor);function FeatEditor(props){var _this;return function Editor_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FeatEditor),(_this=_super.call(this,props)).ref=function(node){_this.editorNode=node},_this.dragCounter=0,_this.handleKeyCommand=_this._handleKeyCommand.bind(Editor_assertThisInitialized(_this)),_this.handleBeforeInput=_this._handleBeforeInput.bind(Editor_assertThisInitialized(_this)),_this.handlePastedText=_this._handlePastedText.bind(Editor_assertThisInitialized(_this)),_this.handleBeforeCut=_this._handleBeforeCut.bind(Editor_assertThisInitialized(_this)),_this.handleReturn=_this._handleReturn.bind(Editor_assertThisInitialized(_this)),_this.handleDrop=_this._handleDrop.bind(Editor_assertThisInitialized(_this)),_this.handleDroppedFiles=_this._handleDroppedFiles.bind(Editor_assertThisInitialized(_this)),_this.handleToggleBlockType=_this._handleToggleBlockType.bind(Editor_assertThisInitialized(_this)),_this.handleToggleInlineStyle=_this._handleToggleInlineStyle.bind(Editor_assertThisInitialized(_this)),_this.onBlur=_this._onBlur.bind(Editor_assertThisInitialized(_this)),_this.getEditorState=_this.getEditorState.bind(Editor_assertThisInitialized(_this)),_this.setEditorState=_this.setEditorState.bind(Editor_assertThisInitialized(_this)),_this.isReadOnly=_this.isReadOnly.bind(Editor_assertThisInitialized(_this)),_this.setReadOnly=_this.setReadOnly.bind(Editor_assertThisInitialized(_this)),_this.blockRendererFn=_this.blockRendererFn.bind(Editor_assertThisInitialized(_this)),_this.state=_this.getInitState(),_this.props.uploadFiles&&(_this.uploadManagerKey=FileUpload.registerTaskCreator(_this.props.uploadFiles)),_this}return function Editor_createClass(Constructor,protoProps,staticProps){return protoProps&&Editor_defineProperties(Constructor.prototype,protoProps),staticProps&&Editor_defineProperties(Constructor,staticProps),Constructor}(FeatEditor,[{key:"componentDidMount",value:function componentDidMount(){var dragHint=document.createElement("div");dragHint.classList.add("DraftEditor-dragHint"),this.dragHint=dragHint,this.props.autoFocus&&this.editorNode.focus()}},{key:"componentDidUpdate",value:function componentDidUpdate(){if(this.forceSyncWindowSelection){var selectionKey=this.props.editorState.getSelection().getAnchorKey(),offsetKey=DraftOffsetKey_default.a.encode(selectionKey,0,0),node=document.querySelectorAll('[data-offset-key="'.concat(offsetKey,'"]'))[0];if(!node)return void(this.forceSyncWindowSelection=!1);var selection=window.getSelection(),range=document.createRange();range.setStart(node,0),range.setEnd(node,0),selection.removeAllRanges(),selection.addRange(range),this.forceSyncWindowSelection=!1}}},{key:"getInitState",value:function getInitState(){return{readOnly:Boolean(this.props.readOnly)}}},{key:"getEditorState",value:function getEditorState(){return this.props.editorState}},{key:"getUploadManager",value:function getUploadManager(){return this.uploadManager}},{key:"setEditorState",value:function setEditorState(editorState){this.props.onChange(editorState)}},{key:"setReadOnly",value:function setReadOnly(readOnly){this.setState({readOnly:readOnly})}},{key:"isReadOnly",value:function isReadOnly(){return this.state.readOnly}},{key:"blockRendererFn",value:function blockRendererFn(contentBlock){var isFocused,editorState,blockKey,blockType=contentBlock.getType(),setEditorState=this.setEditorState,getEditorState=this.getEditorState,setReadOnly=this.setReadOnly,isReadOnly=this.isReadOnly;switch(blockType){case constants.a.CODE_BLOCK:return{component:component_CodeBlock,editable:!0,props:{setEditorState:setEditorState,getEditorState:getEditorState,setReadOnly:setReadOnly,isReadOnly:isReadOnly}};case constants.a.ATOMIC:return editorState=getEditorState(),blockKey=contentBlock.getKey(),isFocused=function(editorState){var selectionState=editorState.getSelection();return function(contentState,startKey,endKey){return contentState.getBlockMap().keySeq().skipUntil((function(key){return key===startKey})).takeUntil((function(key){return key===endKey})).concat([endKey])}(editorState.getCurrentContent(),selectionState.getStartKey(),selectionState.getEndKey())}(editorState).includes(blockKey),{component:AtomicBlock_AtomicBlock,editable:!1,props:{uploadManager:FileUpload,setEditorState:setEditorState,getEditorState:getEditorState,setReadOnly:setReadOnly,isReadOnly:isReadOnly,isFocused:isFocused}};default:return null}}},{key:"focus",value:function focus(){this.editorNode.focus()}},{key:"blur",value:function blur(){this.editorNode.blur()}},{key:"_handleKeyCommand",value:function _handleKeyCommand(command){if(this.props.handleKeyCommand&&isHandled(this.props.handleKeyCommand(this.props.editorState,this.props.onChange,command)))return constants.c;return handleKeyCommand_handleKeyCommand(this.props.editorState,this.props.onChange,command)}},{key:"_onBlur",value:function _onBlur(e){if((e.preventDefault(),this.props.onBlur)&&isHandled(this.props.onBlur(this.props.editorState,this.props.onChange,e)))return constants.c;return constants.e}},{key:"_handleBeforeInput",value:function _handleBeforeInput(text){if(this.props.handleBeforeInput&&isHandled(this.props.handleBeforeInput(this.props.editorState,this.props.onChange,text)))return constants.c;return function handleBeforeInput_handleBeforeInput(editorState,onChange,text){var newEditorState=AutoMarkdown.handleBeforeInput(text,editorState);return newEditorState?(onChange(newEditorState),constants.c):constants.e}(this.props.editorState,this.props.onChange,text)}},{key:"_handlePastedText",value:function _handlePastedText(text,html){if(this.props.handlePastedText&&isHandled(this.props.handlePastedText(this.props.editorState,this.props.onChange,text,html)))return constants.c;return function handlePastedText_handlePastedText(editorState,onChange,text,html){if(plugins_CodeBlock.isInCodeBlock(editorState))return onChange(plugins_CodeBlock.handlePastedText(text,html,editorState)),constants.c}(this.props.editorState,this.props.onChange,text,html)}},{key:"_handleBeforeCut",value:function _handleBeforeCut(editor,event){if(this.props.handleBeforeCut&&isHandled(this.props.handleBeforeCut(editor,event)))return constants.c}},{key:"_handleReturn",value:function _handleReturn(e){if(this.props.handleReturn&&isHandled(this.props.handleReturn(this.props.editorState,this.props.onChange,e)))return constants.c;return function handlers_handleReturn_handleReturn(editorState,onChange,e){var newEditorState;if(plugins_CodeBlock.isInCodeBlock(editorState))return(newEditorState=plugins_CodeBlock.handleReturn(e,editorState))&&onChange(newEditorState),constants.c;if(Blockquote.isInBlockquote(editorState))return(newEditorState=Blockquote.handleReturn(e,editorState))&&onChange(newEditorState),constants.c;if(Atomic.isInAtomicBlock(editorState))return(newEditorState=Atomic.handleReturn(e,editorState))&&onChange(newEditorState),constants.c;if(newEditorState=AutoMarkdown.handleReturn(e,editorState))return onChange(newEditorState),constants.c;var content=editorState.getCurrentContent(),selection=editorState.getSelection(),currentBlock=content.getBlockForKey(selection.getStartKey()),blockType=currentBlock.getType();if(0===selection.getStartOffset()&&currentBlock.getLength()){var removed=Draft.Modifier.removeRange(content,selection),emptyBlockKey=Object(Draft.genKey)(),emptyBlock=new Draft.ContentBlock({key:emptyBlockKey,text:"",type:constants.a.UNSTYLED,characterList:Object(immutable.List)(),depth:0}),targetKey=removed.getSelectionAfter().getStartKey(),blocksBefore=content.getBlockMap().toSeq().takeUntil((function(block){return block.getKey()===targetKey})),blocksAfter=content.getBlockMap().toSeq().skipUntil((function(block){return block.getKey()===targetKey})).rest(),newBlockMap=blocksBefore.concat([[emptyBlockKey,emptyBlock],[targetKey,content.getBlockForKey(targetKey)]],blocksAfter).toOrderedMap(),newContent=removed.merge({blockMap:newBlockMap});return onChange(newEditorState=Draft.EditorState.push(editorState,newContent,"split-block")),constants.c}if(blockType.indexOf("header")>-1){var splited=Draft.Modifier.splitBlock(content,selection),resetBlockType=Draft.Modifier.setBlockType(splited,splited.getSelectionAfter(),constants.a.UNSTYLED);return onChange(newEditorState=Draft.EditorState.push(editorState,resetBlockType)),constants.c}if(-1!==resetBlockTypes.indexOf(blockType)&&selection.isCollapsed&&0===selection.getAnchorOffset()){var blockReset=Draft.Modifier.setBlockType(content,selection,constants.a.UNSTYLED);return onChange(newEditorState=Draft.EditorState.push(editorState,blockReset)),constants.c}if("atomic"===blockType)return onChange(newEditorState=addNewBlockAt(editorState,currentBlock.getKey())),constants.c;var newState=Draft.Modifier.splitBlock(content,selection),selectionAfter=newState.getSelectionAfter();return newEditorState=Draft.EditorState.push(editorState,newState),0===newState.getBlockForKey(selectionAfter.getStartKey()).getLength()&&(newEditorState=Draft.EditorState.setInlineStyleOverride(newEditorState,new immutable.OrderedSet)),onChange(newEditorState),constants.c}(this.props.editorState,this.props.onChange,e)}},{key:"_handleDrop",value:function _handleDrop(selection,dataTransfer,isInternal){var data;try{data=JSON.parse(dataTransfer.getText())}catch(err){return console.warn(err),constants.c}if(!this.dragHint.previousSibling)return console.warn("dragHint not appending"),constants.c;var _this$props=this.props,editorState=_this$props.editorState,onChange=_this$props.onChange,targetBlockKey=this.dragHint.previousSibling.dataset.offsetKey.split("-")[0];data&&data.blockKey!==targetBlockKey&&onChange(function moveBlock(editorState,operateBlockKey,targetBlockKey){var position=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"after",i="after"===position?1:0,content=editorState.getCurrentContent(),blockMap=content.getBlockMap(),index=0,operateBlockMap=blockMap.filter((function(block,key){return key===operateBlockKey})),slicedBlockMap=blockMap.filter((function(block,key){return key!==operateBlockKey}));slicedBlockMap.find((function(block,key){if(key===targetBlockKey)return!0;index++}));var newBlockMap=slicedBlockMap.slice(0,index+i).concat(operateBlockMap).concat(slicedBlockMap.slice(index+i)),newContent=content.merge({blockMap:newBlockMap});return Draft.EditorState.push(editorState,newContent,"move-block")}(editorState,data.blockKey,targetBlockKey));return constants.c}},{key:"_handleDroppedFiles",value:function _handleDroppedFiles(selection,files){if(this.props.uploadFiles){var blockKey=this.dragHint.previousSibling.dataset.offsetKey.split("-")[0],file=files[0],_this$props2=this.props,editorState=_this$props2.editorState,onChange=_this$props2.onChange,key=FileUpload.addTask({key:this.uploadManagerKey,data:file});return onChange(function appendAtomicBlock(editorState,blockKey,entityConfig){var content=editorState.getCurrentContent(),block=content.getBlockForKey(blockKey),selection=editorState.getSelection().merge({anchorKey:blockKey,anchorOffset:block.getLength(),focusKey:blockKey,focusOffset:block.getLength(),isBackward:!1}),blockInserted=Draft.Modifier.splitBlock(content,selection),entityCreated=Draft.Modifier.setBlockType(blockInserted,blockInserted.getSelectionAfter(),constants.a.ATOMIC).createEntity(entityConfig.type,entityConfig.multability,entityConfig.data),entityKey=entityCreated.getLastCreatedEntityKey(),newContent=Draft.Modifier.insertText(entityCreated,entityCreated.getSelectionAfter()," ",void 0,entityKey);return blockKey===content.getLastBlock().getKey()&&(newContent=Draft.Modifier.splitBlock(newContent,newContent.getSelectionAfter()),newContent=Draft.Modifier.setBlockType(newContent,newContent.getSelectionAfter(),constants.a.UNSTYLED)),Draft.EditorState.push(editorState,newContent,"insert-atomic-block")}(editorState,blockKey,{type:constants.b.IMAGE_UPLOADER,mutability:"immutable",data:{key:key}})),this.forceSyncWindowSelection=!0,constants.c}}},{key:"_handleToggleBlockType",value:function _handleToggleBlockType(blockType){if(this.props.handleToggleBlockType&&isHandled(this.props.handleToggleBlockType(this.props.editorState,this.props.onChange,blockType)))return constants.c;return Object(handleToggleBlock.a)(this.props.editorState,this.props.onChange,blockType)}},{key:"_handleToggleInlineStyle",value:function _handleToggleInlineStyle(inlineStyle){if(this.props.handleToggleInlineStyle&&isHandled(this.props.handleToggleInlineStyle(this.props.editorState,this.props.onChange,inlineStyle)))return constants.c;return Object(handleToggleInlineStyle.a)(this.props.editorState,this.props.onChange,inlineStyle)}},{key:"render",value:function render(){var _this2=this,_this$props3=this.props,className=_this$props3.className,style=_this$props3.style,editorState=_this$props3.editorState,blockRenderMap=_this$props3.blockRenderMap,onChange=_this$props3.onChange,placeholder=_this$props3.placeholder,stripPastedStyles=(_this$props3.readOnly,_this$props3.stripPastedStyles),customStyleMap=_this$props3.customStyleMap;return Object(jsx_runtime.jsx)("div",{className:classnames_default()("DraftEditorWrap",className),style:Object.assign({},style,{position:"relative"}),onDragOver:function onDragOver(e){if(_this2.props.uploadFiles&&_this2.editorNode._dragCount){var block=e.target.closest("[data-block]");block&&block.parentNode.insertBefore(_this2.dragHint,block.nextSibling)}},onDragLeave:function onDragLeave(){_this2.props.uploadFiles&&_this2.editorNode._dragCount<2&&_this2.dragHint.parentNode&&_this2.dragHint.parentNode.removeChild(_this2.dragHint)},onDrop:function onDrop(){_this2.props.uploadFiles&&_this2.dragHint.parentNode&&_this2.dragHint.parentNode.removeChild(_this2.dragHint)},children:Object(jsx_runtime.jsx)(Draft.Editor,{ref:function ref(node){_this2.editorNode=node},editorState:editorState,onChange:onChange,blockStyleFn:blockStyleFn,blockRenderMap:blockRenderMap,customStyleMap:customStyleMap,blockRendererFn:this.blockRendererFn,keyBindingFn:keyBindingFn,handleKeyCommand:this.handleKeyCommand,handleBeforeInput:this.handleBeforeInput,handlePastedText:this.handlePastedText,handleBeforeCut:this.handleBeforeCut,handleReturn:this.handleReturn,handleDrop:this.handleDrop,handleDroppedFiles:this.handleDroppedFiles,onBlur:this.onBlur,stripPastedStyles:stripPastedStyles,placeholder:placeholder,readOnly:this.state.readOnly,handleCut:this.props.handleCut,onUpArrow:this.props.onUpArrow,onDownArrow:this.props.onDownArrow,onLeftArrow:this.props.onLeftArrow,onRightArrow:this.props.onRightArrow})})}}]),FeatEditor}(react.Component);Editor_FeatEditor.propTypes={handleCut:prop_types_default.a.func,handleKeyCommand:prop_types_default.a.func,handleBeforeInput:prop_types_default.a.func,handlePastedText:prop_types_default.a.func,handleBeforeCut:prop_types_default.a.func,handleReturn:prop_types_default.a.func,handleDrop:prop_types_default.a.func,handleDroppedFiles:prop_types_default.a.func,handleToggleBlockType:prop_types_default.a.func,handleToggleInlineStyle:prop_types_default.a.func,onBlur:prop_types_default.a.func,onChange:prop_types_default.a.func,editorState:prop_types_default.a.object,uploadFiles:prop_types_default.a.func,autoFocus:prop_types_default.a.bool,readOnly:prop_types_default.a.bool},Editor_FeatEditor.__docgenInfo={description:"",methods:[{name:"getInitState",docblock:null,modifiers:[],params:[],returns:null},{name:"getEditorState",docblock:null,modifiers:[],params:[],returns:null},{name:"getUploadManager",docblock:null,modifiers:[],params:[],returns:null},{name:"setEditorState",docblock:null,modifiers:[],params:[{name:"editorState",type:null}],returns:null},{name:"setReadOnly",docblock:null,modifiers:[],params:[{name:"readOnly",type:null}],returns:null},{name:"isReadOnly",docblock:null,modifiers:[],params:[],returns:null},{name:"blockRendererFn",docblock:null,modifiers:[],params:[{name:"contentBlock",type:null}],returns:null},{name:"focus",docblock:null,modifiers:[],params:[],returns:null},{name:"blur",docblock:null,modifiers:[],params:[],returns:null},{name:"ref",docblock:null,modifiers:[],params:[{name:"node",type:null}],returns:null},{name:"_handleKeyCommand",docblock:null,modifiers:[],params:[{name:"command",type:null}],returns:null},{name:"_onBlur",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"_handleBeforeInput",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null},{name:"_handlePastedText",docblock:null,modifiers:[],params:[{name:"text",type:null},{name:"html",type:null}],returns:null},{name:"_handleBeforeCut",docblock:null,modifiers:[],params:[{name:"editor",type:null},{name:"event",type:null}],returns:null},{name:"_handleReturn",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"_handleDrop",docblock:null,modifiers:[],params:[{name:"selection",type:null},{name:"dataTransfer",type:null},{name:"isInternal",type:null}],returns:null},{name:"_handleDroppedFiles",docblock:null,modifiers:[],params:[{name:"selection",type:null},{name:"files",type:null}],returns:null},{name:"_handleToggleBlockType",docblock:null,modifiers:[],params:[{name:"blockType",type:null}],returns:null},{name:"_handleToggleInlineStyle",docblock:null,modifiers:[],params:[{name:"inlineStyle",type:null}],returns:null}],displayName:"FeatEditor",props:{handleCut:{type:{name:"func"},required:!1,description:""},handleKeyCommand:{type:{name:"func"},required:!1,description:""},handleBeforeInput:{type:{name:"func"},required:!1,description:""},handlePastedText:{type:{name:"func"},required:!1,description:""},handleBeforeCut:{type:{name:"func"},required:!1,description:""},handleReturn:{type:{name:"func"},required:!1,description:""},handleDrop:{type:{name:"func"},required:!1,description:""},handleDroppedFiles:{type:{name:"func"},required:!1,description:""},handleToggleBlockType:{type:{name:"func"},required:!1,description:""},handleToggleInlineStyle:{type:{name:"func"},required:!1,description:""},onBlur:{type:{name:"func"},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:""},editorState:{type:{name:"object"},required:!1,description:""},uploadFiles:{type:{name:"func"},required:!1,description:""},autoFocus:{type:{name:"bool"},required:!1,description:""},readOnly:{type:{name:"bool"},required:!1,description:""}}};__webpack_exports__.a=Editor_FeatEditor;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Editor/index.js"]={name:"FeatEditor",docgenInfo:Editor_FeatEditor.__docgenInfo,path:"src/components/Editor/index.js"})},120:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getEntityRangeInBlock}));__webpack_require__(2496);function getEntityRangeInBlock(contentBlock,entityKey){var start=contentBlock.getCharacterList().findIndex((function(_char){return _char.getEntity()===entityKey})),end=contentBlock.getCharacterList().findLastIndex((function(_char2){return _char2.getEntity()===entityKey}));return start>-1&&end>-1?[start,end+1]:null}},1228:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"a",(function(){return handleKeyCommand}));__webpack_require__(105),__webpack_require__(2497),__webpack_require__(75),__webpack_require__(1224);var _feat_draft_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_feat_draft_js_lib_expandRangeToStartOfLine__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(751),_feat_draft_js_lib_expandRangeToStartOfLine__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_feat_draft_js_lib_expandRangeToStartOfLine__WEBPACK_IMPORTED_MODULE_5__),_feat_draft_js_lib_moveSelectionBackward__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(172),_feat_draft_js_lib_moveSelectionBackward__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_feat_draft_js_lib_moveSelectionBackward__WEBPACK_IMPORTED_MODULE_6__),_feat_draft_js_lib_moveSelectionForward__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(340),_feat_draft_js_lib_moveSelectionForward__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_feat_draft_js_lib_moveSelectionForward__WEBPACK_IMPORTED_MODULE_7__),_feat_draft_js_lib_DraftRemovableWord__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(339),_feat_draft_js_lib_DraftRemovableWord__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_feat_draft_js_lib_DraftRemovableWord__WEBPACK_IMPORTED_MODULE_8__),_feat_draft_js_lib_getDraftEditorSelectionWithNodes__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(485),_feat_draft_js_lib_getDraftEditorSelectionWithNodes__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_feat_draft_js_lib_getDraftEditorSelectionWithNodes__WEBPACK_IMPORTED_MODULE_9__),_AnnotationUtils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(27),_constants__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2),_utils_getCurrentBlock__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(245);function handleKeyCommand(editorState,onChange,command){var targetRange,newState,finalSelection,removeDirection,contentState=editorState.getCurrentContent(),selection=editorState.getSelection();if("delete"===command||"delete-word"===command||"backspace"===command||"backspace-word"===command||"backspace-to-start-of-line"===command){if(!Object(_AnnotationUtils__WEBPACK_IMPORTED_MODULE_10__.d)(selection))return _constants__WEBPACK_IMPORTED_MODULE_11__.c;switch(command){case"delete":targetRange=function getDeleteCommandRange(editorState){var selection=editorState.getSelection(),contentState=editorState.getCurrentContent();if(selection.isCollapsed()){var currentBlock=contentState.getBlockForKey(selection.getStartKey());if(selection.getStartOffset()===currentBlock.getLength())return null;var regText=Object(_utils_getCurrentBlock__WEBPACK_IMPORTED_MODULE_12__.a)(editorState).getText().slice(selection.getStartOffset()),match=new RegExp("^\\p{Emoji_Presentation}","u").exec(regText);return match?_feat_draft_js_lib_moveSelectionBackward__WEBPACK_IMPORTED_MODULE_6___default()(editorState,match[0].length):_feat_draft_js_lib_moveSelectionForward__WEBPACK_IMPORTED_MODULE_7___default()(editorState,1)}return selection}(editorState),removeDirection="forward";break;case"delete-word":targetRange=function getDeleteWordCommandRange(editorState){var selection=editorState.getSelection(),offset=selection.getStartOffset(),key=selection.getStartKey(),text=editorState.getCurrentContent().getBlockForKey(key).getText().slice(offset),toRemove=_feat_draft_js_lib_DraftRemovableWord__WEBPACK_IMPORTED_MODULE_8___default.a.getForward(text),next=_feat_draft_js_lib_moveSelectionForward__WEBPACK_IMPORTED_MODULE_7___default()(editorState,toRemove.length||1);return next.getStartKey()!==next.getEndKey()?null:next}(editorState),removeDirection="forward";break;case"backspace":targetRange=function getBackspaceCommandRange(editorState){var selection=editorState.getSelection();if(selection.isCollapsed()){if(0===selection.getStartOffset())return null;var regText=Object(_utils_getCurrentBlock__WEBPACK_IMPORTED_MODULE_12__.a)(editorState).getText().slice(0,selection.getStartOffset()),match=new RegExp("\\p{Emoji_Presentation}$","u").exec(regText);return match?_feat_draft_js_lib_moveSelectionBackward__WEBPACK_IMPORTED_MODULE_6___default()(editorState,match[0].length):_feat_draft_js_lib_moveSelectionBackward__WEBPACK_IMPORTED_MODULE_6___default()(editorState,1)}return selection}(editorState),removeDirection="backward";break;case"backspace-word":targetRange=function getBackspaceWordCommandRange(editorState){var selection=editorState.getSelection(),offset=selection.getStartOffset();if(!selection.isCollapsed())return selection;if(0===offset)return null;var key=selection.getStartKey(),text=editorState.getCurrentContent().getBlockForKey(key).getText().slice(0,offset),toRemove=_feat_draft_js_lib_DraftRemovableWord__WEBPACK_IMPORTED_MODULE_8___default.a.getBackward(text);return _feat_draft_js_lib_moveSelectionBackward__WEBPACK_IMPORTED_MODULE_6___default()(editorState,toRemove.length||1)}(editorState),removeDirection="backward";break;case"backspace-to-start-of-line":targetRange=function getBackspaceToStartOfLineCommandRange(editorState){var selection=editorState.getSelection();if(selection.isCollapsed()&&0===selection.getAnchorOffset())return null;if(!selection.isCollapsed())return selection;var range=global.getSelection().getRangeAt(0);return range=_feat_draft_js_lib_expandRangeToStartOfLine__WEBPACK_IMPORTED_MODULE_5___default()(range),_feat_draft_js_lib_getDraftEditorSelectionWithNodes__WEBPACK_IMPORTED_MODULE_9___default()(editorState,null,range.endContainer,range.endOffset,range.startContainer,range.startOffset).selectionState}(editorState),removeDirection="backward";break;default:return _constants__WEBPACK_IMPORTED_MODULE_11__.c}if(!targetRange){if("backspace"===command)if(!Object(_utils_getCurrentBlock__WEBPACK_IMPORTED_MODULE_12__.a)(editorState).getText())return _constants__WEBPACK_IMPORTED_MODULE_11__.e;return _constants__WEBPACK_IMPORTED_MODULE_11__.c}var newContentState=Object(_AnnotationUtils__WEBPACK_IMPORTED_MODULE_10__.a)(contentState,targetRange);return contentState===newContentState||(contentState=newContentState,finalSelection="forward"===removeDirection?targetRange.merge({anchorOffset:targetRange.getEndOffset(),focusOffset:targetRange.getEndOffset()}):targetRange.merge({anchorOffset:targetRange.getStartOffset(),focusOffset:targetRange.getStartOffset()}),newState=_feat_draft_js__WEBPACK_IMPORTED_MODULE_4__.EditorState.push(editorState,contentState,"add-annotation-delete"),onChange(_feat_draft_js__WEBPACK_IMPORTED_MODULE_4__.EditorState.forceSelection(newState,finalSelection))),_constants__WEBPACK_IMPORTED_MODULE_11__.c}return _constants__WEBPACK_IMPORTED_MODULE_11__.e}}).call(this,__webpack_require__(14))},1229:function(module,exports,__webpack_require__){__webpack_require__(1230),__webpack_require__(1589),__webpack_require__(1590),__webpack_require__(2108),__webpack_require__(2151),__webpack_require__(2244),module.exports=__webpack_require__(2300)},1347:function(module,exports){},148:function(module,__webpack_exports__,__webpack_require__){"use strict";function getTypeStrategy(type){return function(contentBlock,callback,contentState){contentBlock.findEntityRanges((function(character){var entityKey=character.getEntity();return!!entityKey&&contentState.getEntity(entityKey).getType()===type}),callback)}}__webpack_require__.d(__webpack_exports__,"a",(function(){return getTypeStrategy}))},149:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Toolbar__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(492);__webpack_require__(486);__webpack_exports__.a=_Toolbar__WEBPACK_IMPORTED_MODULE_0__.a},1590:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(844)},173:function(module,__webpack_exports__,__webpack_require__){"use strict";var draft_js_export_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(490),_config_stateToHTMLConfig__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(491);__webpack_exports__.a=function(content){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_config_stateToHTMLConfig__WEBPACK_IMPORTED_MODULE_1__.a;return Object(draft_js_export_html__WEBPACK_IMPORTED_MODULE_0__.stateToHTML)(content,options)}},2:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return HANDLED})),__webpack_require__.d(__webpack_exports__,"e",(function(){return NOT_HANDLED})),__webpack_require__.d(__webpack_exports__,"a",(function(){return BLOCK_TYPE})),__webpack_require__.d(__webpack_exports__,"d",(function(){return INLINE_STYLE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ENTITY_TYPE}));var HANDLED="handled",NOT_HANDLED="not-handled",BLOCK_TYPE={UNSTYLED:"unstyled",PARAGRAPH:"unstyled",ORDERED_LIST_ITEM:"ordered-list-item",UNORDERED_LIST_ITEM:"unordered-list-item",H1:"header-one",H2:"header-two",H3:"header-three",H4:"header-four",H5:"header-five",H6:"header-six",CODE_BLOCK:"code-block",BLOCKQUOTE:"blockquote",PULLQUOTE:"pullquote",ATOMIC:"atomic",BLOCKQUOTE_CAPTION:"block-quote-caption",CAPTION:"caption",GALLERY:"gallery",TODO:"todo",IMAGE:"atomic:image",BREAK:"atomic:break"},INLINE_STYLE={BOLD:"BOLD",CODE:"CODE",ITALIC:"ITALIC",STRIKETHROUGH:"STRIKETHROUGH",UNDERLINE:"UNDERLINE",LIGHT:"LIGHT"},ENTITY_TYPE={IMAGE:"IMAGE",IMAGE_UPLOADER:"IMAGE_UPLOADER",LINK:"LINK"}},2300:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(844).configure)([__webpack_require__(2301)],module,!1)}).call(this,__webpack_require__(151)(module))},2301:function(module,exports,__webpack_require__){var map={"./0-FeatEditor.stories.js":2501,"./1-Annotation.stories.js":2499,"./Toolbar.stories.js":2498};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2301},2421:function(module,exports,__webpack_require__){var map={"./blockquote.svg":2422,"./bold.svg":2423,"./cb.svg":2424,"./code.svg":2425,"./fx.svg":2426,"./h2.svg":2427,"./h3.svg":2428,"./img.svg":2429,"./italic.svg":2430,"./light.svg":2431,"./ol.svg":2432,"./text.svg":2433,"./ul.svg":2434,"./underline.svg":2435};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2421},2422:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<polygon fill="currentColor" points="14,10 6,10 6,19 11,19 11,20.444 9.395,22.998 11.035,23.955 14,20.444 \t"/>\r\n\t<polygon fill="currentColor" points="25.777,10 18,10 18,19 22,19 22,20.444 20.673,22.998 22.563,23.955 25.762,20.556 \t"/>\r\n</g>\r\n</svg>\r\n'},2423:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<path fill="currentColor" d="M16.774,21.756h-5.167v-11.39h4.889c2.407,0.075,3.686,0.982,3.833,2.722\r\n\t\tc-0.036,1.445-0.815,2.334-2.333,2.667v0.056c1.74,0.297,2.685,1.204,2.834,2.722C20.83,20.682,19.478,21.756,16.774,21.756z\r\n\t\t M16.163,11.7h-2.834v3.5h2.834c1.519-0.037,2.296-0.647,2.333-1.833C18.459,12.255,17.682,11.7,16.163,11.7z M16.385,16.588\r\n\t\th-3.056v3.89h3.167c1.629,0,2.444-0.686,2.444-2.057C18.865,17.237,18.014,16.626,16.385,16.588z"/>\r\n</g>\r\n</svg>\r\n'},2424:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<path fill="currentColor" d="M6.881,16.727l7.427-3.825v1.104l-6.259,3.137v0.031l6.259,3.137v1.105L6.881,17.59V16.727z"/>\r\n\t<path fill="currentColor" d="M25.123,17.606l-7.427,3.81v-1.105l6.307-3.137v-0.031l-6.307-3.137v-1.104l7.427,3.809V17.606z"/>\r\n</g>\r\n</svg>\r\n'},2425:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<path fill="currentColor" d="M19.648,21.41c-0.4,0.214-0.812,0.373-1.234,0.48s-0.87,0.16-1.344,0.16c-1.494,0-2.654-0.529-3.48-1.586\r\n\t\tc-0.825-1.058-1.238-2.545-1.238-4.461c0-1.906,0.416-3.392,1.246-4.457c0.831-1.065,1.988-1.598,3.473-1.598\r\n\t\tc0.474,0,0.922,0.053,1.344,0.16s0.834,0.267,1.234,0.48v1.617c-0.385-0.317-0.799-0.56-1.241-0.727s-0.889-0.25-1.337-0.25\r\n\t\tc-1.026,0-1.793,0.396-2.304,1.188c-0.511,0.792-0.766,1.987-0.766,3.586c0,1.594,0.255,2.787,0.766,3.578\r\n\t\tc0.511,0.792,1.277,1.188,2.304,1.188c0.458,0,0.907-0.084,1.349-0.25c0.439-0.166,0.85-0.408,1.229-0.727V21.41z"/>\r\n</g>\r\n</svg>\r\n'},2426:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<path fill="currentColor" d="M6.703,23.508l0.869-0.905c0.389,0.158,0.785,0.237,1.19,0.237c0.58,0,1.026-0.197,1.34-0.59\r\n\t\tc0.314-0.393,0.549-1.043,0.702-1.951l1.167-6.908H10.61l0.425-0.45h1.027l0.019-0.079c0.23-1.175,0.764-2.13,1.598-2.865\r\n\t\tc0.834-0.735,1.804-1.103,2.904-1.103c0.353,0,0.679,0.034,0.979,0.104l-0.869,0.924c-0.376-0.235-0.764-0.353-1.16-0.353\r\n\t\tc-0.608,0-1.059,0.179-1.355,0.538c-0.295,0.358-0.539,1.015-0.729,1.972l-0.176,0.863h2.273l-0.493,0.541\r\n\t\tc-0.515-0.061-1.03-0.091-1.549-0.091h-0.315L12.3,18.616c-0.268,1.588-0.801,2.813-1.598,3.677\r\n\t\tc-0.798,0.862-1.8,1.294-3.002,1.294C7.384,23.587,7.051,23.561,6.703,23.508z"/>\r\n\t<path fill="currentColor" d="M15.223,19.54l0.534-1.112c0.15,0.086,0.32,0.127,0.511,0.127c0.615,0,1.387-0.555,2.315-1.664l0.364-0.443\r\n\t\tl-0.827-1.945c-0.205-0.49-0.408-0.735-0.607-0.735c-0.243,0-0.611,0.33-1.106,0.99l0.158-0.796\r\n\t\tc0.593-0.777,1.099-1.167,1.52-1.167c0.394,0,0.761,0.393,1.106,1.179l0.692,1.586l0.396-0.505c1.183-1.507,2.152-2.26,2.91-2.26\r\n\t\tc0.203,0,0.411,0.067,0.626,0.201l-0.626,1.106c-0.166-0.101-0.326-0.152-0.48-0.152c-0.673,0-1.463,0.555-2.37,1.665l-0.291,0.352\r\n\t\tl0.912,2.121c0.21,0.506,0.42,0.76,0.632,0.76c0.286,0,0.688-0.303,1.202-0.906l-0.146,0.729c-0.62,0.681-1.168,1.021-1.646,1.021\r\n\t\tc-0.458,0-0.828-0.334-1.112-1.002l-0.783-1.859l-0.492,0.625c-1.172,1.492-2.087,2.236-2.747,2.236\r\n\t\tC15.7,19.691,15.485,19.641,15.223,19.54z"/>\r\n</g>\r\n</svg>\r\n'},2427:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<path fill="currentColor" d="M7.443,3.725h18.496v3.456h-7.265v19.392h-4V7.181H7.443V3.725z"/>\r\n</g>\r\n</svg>\r\n'},2428:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n\r\n<g class="symbol">\r\n\t<path fill="currentColor" d="M8.807,9.117h14.387v2.688h-5.65v15.083h-3.111V11.804H8.807V9.117z"/>\r\n</g>\r\n</svg>\r\n'},2429:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n<path fill="currentColor" d="M12.443,13.138c0,1.178-0.955,2.133-2.135,2.133c-1.177,0-2.133-0.956-2.133-2.133s0.956-2.133,2.133-2.133\r\n\tC11.488,11.005,12.443,11.96,12.443,13.138z M23.821,17.404v4.979H8.176V20.25l3.556-3.556l1.777,1.778l5.689-5.689L23.821,17.404z\r\n\t M25.42,9.045H6.577C6.376,9.045,6.2,9.223,6.2,9.427v14.534c0,0.203,0.176,0.383,0.377,0.383H25.42c0.2,0,0.376-0.18,0.376-0.383\r\n\tV9.427C25.796,9.223,25.62,9.045,25.42,9.045z M26.664,9.938v13.511c0,0.978-0.8,1.777-1.776,1.777H7.108\r\n\tc-0.977,0-1.776-0.8-1.776-1.777V9.938c0-0.978,0.8-1.778,1.776-1.778h17.779C25.864,8.161,26.664,8.96,26.664,9.938z"/>\r\n</g>\r\n</svg>\r\n'},243:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(477),__webpack_require__(146),__webpack_require__(147),__webpack_require__(118),__webpack_require__(75),__webpack_require__(2406),__webpack_require__(479),__webpack_require__(105),__webpack_require__(110);var immutable__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9),immutable__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(immutable__WEBPACK_IMPORTED_MODULE_9__);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var MultiDecorator=function(){function MultiDecorator(decorators){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MultiDecorator),this.decorators=immutable__WEBPACK_IMPORTED_MODULE_9___default.a.List(decorators)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(MultiDecorator,[{key:"getDecorations",value:function getDecorations(block,contentState){var decorations=new Array(block.getText().length).fill(null);return this.decorators.forEach((function(decorator,i){decorator.getDecorations(block,contentState).forEach((function(key,offset){key&&(decorations[offset]=i+"-"+key)}))})),immutable__WEBPACK_IMPORTED_MODULE_9___default.a.List(decorations)}},{key:"getComponentForKey",value:function getComponentForKey(key){return this.getDecoratorForKey(key).getComponentForKey(MultiDecorator.getInnerKey(key))}},{key:"getPropsForKey",value:function getPropsForKey(key){return this.getDecoratorForKey(key).getPropsForKey(MultiDecorator.getInnerKey(key))}},{key:"getDecoratorForKey",value:function getDecoratorForKey(key){var parts=key.split("-"),index=Number(parts[0]);return this.decorators.get(index)}}],[{key:"getInnerKey",value:function getInnerKey(key){return key.split("-").slice(1).join("-")}}]),MultiDecorator}();__webpack_exports__.a=MultiDecorator},2430:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<path fill="currentColor" d="M13.722,21.756l3.465-11.389h1.722l-3.465,11.389H13.722z"/>\r\n</g>\r\n</svg>\r\n'},2431:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 23.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px"\n\t viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">\n<g class="symbol">\n\t<rect fill="currentColor" x="9.5" y="9.9" width="13" height="0.9"/>\n\t<rect fill="currentColor" x="15.6" y="9.9" width="0.9" height="15.1"/>\n</g>\n</svg>\n'},2432:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<rect fill="currentColor" x="11.595" y="9.938" width="15.111" height="0.888"/>\r\n\t<rect fill="currentColor" x="11.595" y="17.049" width="15.111" height="0.889"/>\r\n\t<rect fill="currentColor" x="11.595" y="24.16" width="15.111" height="0.889"/>\r\n\t<g>\r\n\t\t<path fill="currentColor" d="M7.473,12.487V9.153C7.152,9.459,6.715,9.729,6.16,9.966c0-0.195,0-0.382,0-0.562\r\n\t\t\tC6.881,9.07,7.368,8.661,7.617,8.174h0.48v4.313H7.473z"/>\r\n\t</g>\r\n\t<g>\r\n\t\t<path fill="currentColor" d="M6.776,19.139h2.208v0.479H6.006v-0.354c0.291-0.542,0.737-1.041,1.332-1.5\r\n\t\t\tc0.709-0.5,1.037-0.902,0.98-1.208c-0.013-0.472-0.277-0.716-0.792-0.73c-0.458,0-0.75,0.271-0.876,0.812l-0.583-0.187\r\n\t\t\tc0.209-0.764,0.729-1.146,1.562-1.146c0.849,0.028,1.301,0.424,1.354,1.188c0.071,0.5-0.271,0.994-1.021,1.48\r\n\t\t\tC7.437,18.334,7.041,18.722,6.776,19.139z"/>\r\n\t</g>\r\n\t<g>\r\n\t\t<path fill="currentColor" d="M6.037,25.627l0.646-0.146c0.096,0.529,0.396,0.792,0.896,0.792c0.554-0.013,0.839-0.284,0.854-0.812\r\n\t\t\tc0-0.486-0.342-0.73-1.021-0.73c-0.166,0-0.3,0-0.396,0v-0.5c0.096,0,0.2,0,0.312,0c0.638,0,0.964-0.242,0.979-0.729\r\n\t\t\tc-0.016-0.443-0.26-0.674-0.729-0.688c-0.474,0-0.75,0.258-0.833,0.771l-0.625-0.146c0.179-0.736,0.679-1.104,1.5-1.104\r\n\t\t\tc0.845,0.027,1.297,0.396,1.354,1.104c-0.015,0.515-0.3,0.848-0.854,1c0.609,0.125,0.938,0.479,0.979,1.062\r\n\t\t\tc-0.041,0.791-0.551,1.201-1.521,1.23C6.73,26.746,6.217,26.377,6.037,25.627z"/>\r\n\t</g>\r\n</g>\r\n</svg>\r\n'},2433:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<path fill="currentColor" d="M9.444,16.393H22.5v0.779h-2.556c-0.556,2.777-1.667,4.943-3.333,6.5c1.444,1.111,3.426,1.963,5.944,2.556\r\n\t\tc-0.075,0.11-0.186,0.313-0.333,0.61c-0.038,0.073-0.075,0.147-0.111,0.223c-2.889-0.927-4.926-1.87-6.111-2.833\r\n\t\tc-1.037,0.889-3.056,1.868-6.055,2.944c-0.149-0.298-0.316-0.557-0.501-0.779c2.593-0.74,4.573-1.629,5.944-2.666\r\n\t\tc-1.741-1.777-2.852-3.963-3.333-6.555H9.444V16.393z M16,23.172c1.703-1.556,2.74-3.557,3.111-6h-6.277\r\n\t\tC13.277,19.541,14.333,21.541,16,23.172z M15.111,14.338l0.722-0.333c0.147,0.26,0.39,0.647,0.723,1.167\r\n\t\tc0.222,0.37,0.39,0.648,0.499,0.834l-0.777,0.388C15.907,15.653,15.518,14.969,15.111,14.338z"/>\r\n</g>\r\n</svg>\r\n'},2434:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symobl">\r\n\t<circle fill="currentColor" cx="7.573" cy="10.38" r="1.78"/>\r\n\t<rect x="11.578" y="9.935" fill="currentColor" width="15.129" height="0.89"/>\r\n\t<circle fill="currentColor" cx="7.573" cy="17.5" r="1.78"/>\r\n\t<rect x="11.578" y="17.055" fill="currentColor" width="15.129" height="0.891"/>\r\n\t<circle fill="currentColor" cx="7.573" cy="24.62" r="1.78"/>\r\n\t<rect x="11.578" y="24.175" fill="currentColor" width="15.129" height="0.89"/>\r\n</g>\r\n</svg>\r\n'},2435:function(module,exports){module.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\r\n<g class="symbol">\r\n\t<path fill="currentColor" d="M11.197,17.145v-6.611h1.778v6.611c0,2.408,1.019,3.593,3.056,3.555c2.036,0,3.056-1.203,3.056-3.611\r\n\t\tv-6.555h1.778v6.555c0,3.334-1.631,5-4.89,5C12.79,22.088,11.197,20.441,11.197,17.145z"/>\r\n\t<line fill="none" stroke="currentColor" stroke-miterlimit="10" x1="11.56" y1="24.174" x2="20.447" y2="24.174"/>\r\n</g>\r\n</svg>\r\n'},244:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return toggleInlineStyle})),__webpack_require__.d(__webpack_exports__,"a",(function(){return handleToggleInlineStyle}));__webpack_require__(748),__webpack_require__(146),__webpack_require__(147),__webpack_require__(110);var _conflictStylesMap,Draft=__webpack_require__(0),utils_getSelectedBlocks=function getSelectedBlocks(editorState){for(var nextBlock,selection=editorState.getSelection(),contentState=editorState.getCurrentContent(),startKey=selection.getStartKey(),endKey=selection.getEndKey(),blocks=[contentState.getBlockForKey(startKey)],target=startKey;target!==endKey&&(nextBlock=contentState.getBlockAfter(target));)blocks.push(nextBlock),target=nextBlock.getKey();return blocks},constants=__webpack_require__(2);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var conflictStylesMap=(_defineProperty(_conflictStylesMap={},constants.d.BOLD,[constants.d.LIGHT]),_defineProperty(_conflictStylesMap,constants.d.LIGHT,[constants.d.BOLD]),_conflictStylesMap);function toggleInlineStyle(editorState,inlineStyle){var selection=editorState.getSelection(),currentStyle=editorState.getCurrentInlineStyle(),blocksList=utils_getSelectedBlocks(editorState);if(inlineStyle===constants.d.CODE&&blocksList.some((function(block){return block.getType()===constants.a.CODE_BLOCK})))return null;var newCurrentStyle,conflictStyles=conflictStylesMap[inlineStyle];if(selection.isCollapsed())return newCurrentStyle=currentStyle.has(inlineStyle)?currentStyle.remove(inlineStyle):currentStyle.add(inlineStyle),conflictStyles&&conflictStyles.forEach((function(conflictStyle){conflictStyle&&newCurrentStyle.has(conflictStyle)&&(newCurrentStyle=newCurrentStyle.remove(conflictStyle))})),Draft.EditorState.setInlineStyleOverride(editorState,newCurrentStyle);var newContent,content=editorState.getCurrentContent();return currentStyle.has(inlineStyle)?newContent=Draft.Modifier.removeInlineStyle(content,selection,inlineStyle):(newContent=Draft.Modifier.applyInlineStyle(content,selection,inlineStyle),conflictStyles&&conflictStyles.forEach((function(conflictStyle){currentStyle.has(conflictStyle)&&(newContent=Draft.Modifier.removeInlineStyle(newContent,selection,conflictStyle))}))),Draft.EditorState.push(editorState,newContent,"change-inline-style")}function handleToggleInlineStyle(editorState,onChange,inlineStyle){var newEditorState=toggleInlineStyle(editorState,inlineStyle);newEditorState&&onChange(newEditorState)}},245:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getCurrentBlock}));__webpack_require__(0);function getCurrentBlock(editorState){var selection=editorState.getSelection();return editorState.getCurrentContent().getBlockForKey(selection.getStartKey())}},246:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getEntitiesInSelection}));__webpack_require__(202);function getEntitiesInSelection(content,selection){for(var block,entities=[],startKey=selection.getStartKey(),endKey=selection.getEndKey(),startOffset=selection.getStartOffset(),endOffset=selection.getEndOffset(),loopRange={},blockKey=startKey;;){block=content.getBlockForKey(blockKey),loopRange.start=blockKey===startKey?startOffset:0,loopRange.end=blockKey===endKey?endOffset:block.getLength();for(var i=loopRange.start;i<loopRange.end;i++){var entityKey=block.getEntityAt(i);entityKey&&-1===entities.indexOf(entityKey)&&entities.push(entityKey)}if(blockKey===endKey)break;blockKey=content.getKeyAfter(blockKey)}return entities}},247:function(module,__webpack_exports__,__webpack_require__){"use strict";var main=__webpack_require__(489),constants=(__webpack_require__(241),__webpack_require__(146),__webpack_require__(147),__webpack_require__(338),__webpack_require__(2)),DATA_ATTRIBUTE=/^data-([a-z0-9-]+)$/,ELEM_ATTR_MAP={a:{href:"url",rel:"rel",target:"target",title:"title"},img:{src:"src",alt:"alt"}},elemAttrMap={},stateFromHTMLConfig={customInlineFn:function customInlineFn(element,_ref){var Style=_ref.Style;return"SPAN"===element.tagName&&"t-light"===element.className?Style(constants.d.LIGHT):"CODE"===element.tagName&&"PRE"===element.parentNode.tagName?{}:null},customBlockFn:function customBlockFn(element){var tagName=element.nodeName.toLowerCase(),data=function getElementData(tagName,element,externalAttrMap){var data={},attrMap=externalAttrMap||ELEM_ATTR_MAP[tagName];if(attrMap)for(var i=0;i<element.attributes.length;i+=1){var _element$attributes$i=element.attributes[i],name=_element$attributes$i.name,value=_element$attributes$i.value;if(null!=value)if(Object.prototype.hasOwnProperty.call(attrMap,name)){var newName=attrMap[name];data[newName]=value}else DATA_ATTRIBUTE.test(name)&&(data[name]=value)}else{var dataset=element.dataset;if(!dataset)return data;Object.keys(dataset).forEach((function(key){data[key]=dataset[key]}))}return data}(tagName,element,elemAttrMap[tagName]);return"pre"===tagName&&(data.language=element.children[0].getAttribute("data-language")),{data:data}}};__webpack_exports__.a=function(html){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:stateFromHTMLConfig;return Object(main.stateFromHTML)(html,options)}},2486:function(module,exports,__webpack_require__){var content=__webpack_require__(2487);"string"==typeof content&&(content=[[module.i,content,""]]);var options={transform:void 0};__webpack_require__(2489)(content,options);content.locals&&(module.exports=content.locals)},2487:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(2488)(!1)).push([module.i,".demo {\n  max-width: 800px;\n  margin: 0 auto; }\n  .demo .buttons {\n    border-bottom: 1px solid #333;\n    padding: 12px;\n    margin-bottom: 12px; }\n\n.public-DraftStyleDefault-unstyled {\n  margin-bottom: 12px; }\n\n.public-DraftStyleDefault-codeBlock {\n  background-color: #f3f3f3;\n  counter-reset: code-line;\n  white-space: pre-wrap; }\n  .public-DraftStyleDefault-codeBlock .public-DraftStyleDefault-codeBlock-content {\n    margin-left: 2.75em;\n    padding-left: 0.5em;\n    padding-right: 0.5em;\n    border-left: 3px solid #aaa;\n    line-height: 22px; }\n  .public-DraftStyleDefault-codeBlock .line {\n    counter-increment: code-line;\n    position: relative; }\n    .public-DraftStyleDefault-codeBlock .line::before {\n      content: counter(code-line);\n      position: absolute;\n      margin-left: -4.25em;\n      width: 3em;\n      text-align: right;\n      user-select: none; }\n  .public-DraftStyleDefault-codeBlock .is-empty::before {\n    margin-top: -22px; }\n  .public-DraftStyleDefault-codeBlock .public-DraftStyleDefault-codeBlock-hint {\n    padding: 3px;\n    color: #aaa; }\n\n[data-entity-type='annotation:add'] {\n  background-color: #98f788; }\n\n[data-entity-type='annotation:delete'] {\n  background-color: #ef6469; }\n\n[data-entity-type='annotation:style'] {\n  background-color: #f7d588; }\n",""])},2498:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CustomIconRender",(function(){return CustomIconRender})),__webpack_require__.d(__webpack_exports__,"BeforeToggleBlockType",(function(){return BeforeToggleBlockType}));__webpack_require__(460),__webpack_require__(100),__webpack_require__(101),__webpack_require__(73),__webpack_require__(102),__webpack_require__(103),__webpack_require__(88),__webpack_require__(104),__webpack_require__(105),__webpack_require__(241),__webpack_require__(468);var react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5),draft_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_feat_feat_editor_lib_components_Toolbar__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(149),_feat_feat_editor_lib_components_Editor__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(119),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useState, useCallback } from 'react';\nimport { EditorState } from 'draft-js';\nimport Toolbar from '@feat/feat-editor/lib/components/Toolbar';\nimport Editor from '@feat/feat-editor/lib/components/Editor';\n\nexport default {\n  title: 'FeatEditor Toolbar',\n  component: null,\n};\n\n\nexport const CustomIconRender = () => {\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  return (\n    <div className=\"demo\">\n      <Toolbar\n        editorState={editorState}\n        onChange={setEditorState}\n        renderIcon={(icon, isActive, onClick) => (\n          <button\n            style={{ padding: 5,\n              fontWeight: isActive ? 'bold' : 'normal',\n            }}\n            onMouseDown={(e) => {\n              e.preventDefault();\n              onClick(icon.value);\n            }}\n          >\n            {icon.icon}\n          </button>\n        )}\n      />\n      <Editor\n        editorState={editorState}\n        placeholder=\"输入内容\"\n        customStyleMap={{\n          LIGHT: {\n            fontWeight: 300,\n          },\n        }}\n        onChange={setEditorState}\n      />\n    </div>\n  );\n}\n;\n\n\nexport const BeforeToggleBlockType = () => {\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n  const beforeToggleBlockType = useCallback(\n    (editorState) => {\n      const contentState = editorState.getCurrentContent();\n      const selection = editorState.getSelection();\n      if (contentState.getFirstBlock().getKey() === selection.getStartKey()) {\n        return false;\n      }\n      return true;\n    },\n    [],\n  );\n\n  return (\n    <div className=\"demo\">\n      <Toolbar\n        editorState={editorState}\n        onChange={setEditorState}\n        beforeToggleBlockType={beforeToggleBlockType}\n      />\n      <Editor\n        editorState={editorState}\n        placeholder=\"输入内容\"\n        customStyleMap={{\n          LIGHT: {\n            fontWeight: 300,\n          },\n        }}\n        beforeToggleBlockType={beforeToggleBlockType}\n        onChange={setEditorState}\n      />\n    </div>\n  );\n}\n;\n",locationsMap:{"custom-icon-render":{startLoc:{col:32,line:12},endLoc:{col:1,line:45},startBody:{col:32,line:12},endBody:{col:1,line:45}},"before-toggle-block-type":{startLoc:{col:37,line:49},endLoc:{col:1,line:83},startBody:{col:37,line:49},endBody:{col:1,line:83}}}}},title:"FeatEditor Toolbar",component:null};var CustomIconRender=function CustomIconRender(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(draft_js__WEBPACK_IMPORTED_MODULE_12__.EditorState.createEmpty()),2),editorState=_useState2[0],setEditorState=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("div",{className:"demo",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_feat_feat_editor_lib_components_Toolbar__WEBPACK_IMPORTED_MODULE_13__.a,{editorState:editorState,onChange:setEditorState,renderIcon:function renderIcon(icon,isActive,onClick){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("button",{style:{padding:5,fontWeight:isActive?"bold":"normal"},onMouseDown:function onMouseDown(e){e.preventDefault(),onClick(icon.value)},children:icon.icon})}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_feat_feat_editor_lib_components_Editor__WEBPACK_IMPORTED_MODULE_14__.a,{editorState:editorState,placeholder:"输入内容",customStyleMap:{LIGHT:{fontWeight:300}},onChange:setEditorState})]})};CustomIconRender.displayName="CustomIconRender";var BeforeToggleBlockType=function BeforeToggleBlockType(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(draft_js__WEBPACK_IMPORTED_MODULE_12__.EditorState.createEmpty()),2),editorState=_useState4[0],setEditorState=_useState4[1],beforeToggleBlockType=Object(react__WEBPACK_IMPORTED_MODULE_11__.useCallback)((function(editorState){var contentState=editorState.getCurrentContent(),selection=editorState.getSelection();return contentState.getFirstBlock().getKey()!==selection.getStartKey()}),[]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("div",{className:"demo",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_feat_feat_editor_lib_components_Toolbar__WEBPACK_IMPORTED_MODULE_13__.a,{editorState:editorState,onChange:setEditorState,beforeToggleBlockType:beforeToggleBlockType}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_feat_feat_editor_lib_components_Editor__WEBPACK_IMPORTED_MODULE_14__.a,{editorState:editorState,placeholder:"输入内容",customStyleMap:{LIGHT:{fontWeight:300}},beforeToggleBlockType:beforeToggleBlockType,onChange:setEditorState})]})};BeforeToggleBlockType.displayName="BeforeToggleBlockType",CustomIconRender.__docgenInfo={description:"",methods:[],displayName:"CustomIconRender"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Toolbar.stories.js"]={name:"CustomIconRender",docgenInfo:CustomIconRender.__docgenInfo,path:"stories/Toolbar.stories.js"}),BeforeToggleBlockType.__docgenInfo={description:"",methods:[],displayName:"BeforeToggleBlockType"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Toolbar.stories.js"]={name:"BeforeToggleBlockType",docgenInfo:BeforeToggleBlockType.__docgenInfo,path:"stories/Toolbar.stories.js"})},2499:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Annotated",(function(){return _1_Annotation_stories_Annotated}));__webpack_require__(460),__webpack_require__(100),__webpack_require__(101),__webpack_require__(73),__webpack_require__(102),__webpack_require__(103),__webpack_require__(88),__webpack_require__(104),__webpack_require__(105),__webpack_require__(241),__webpack_require__(468);var react=__webpack_require__(5),Draft=__webpack_require__(0),components_Editor=(__webpack_require__(171),__webpack_require__(490),__webpack_require__(489),__webpack_require__(119)),getFragmentFromSelection=(__webpack_require__(1224),__webpack_require__(1225),__webpack_require__(484)),getFragmentFromSelection_default=__webpack_require__.n(getFragmentFromSelection),constants=__webpack_require__(2),Annotation_constants=__webpack_require__(7),AnnotationUtils=__webpack_require__(27);function handleBeforeCut(editor,event){var editorState=editor._latestEditorState,contentState=editorState.getCurrentContent(),selection=editorState.getSelection();if(!Object(AnnotationUtils.d)(selection))return constants.c;if(selection.isCollapsed())return constants.c;if(Object(AnnotationUtils.e)(contentState,selection,Annotation_constants.a))return constants.e;var newContentState=Object(AnnotationUtils.a)(contentState,selection);if(newContentState===contentState){var _wSelection=document.getSelection();return event.clipboardData.setData("text/plain",_wSelection.toString()),constants.c}var finalSelection=selection.merge({anchorOffset:selection.getFocusOffset()}),newEditorState=Draft.EditorState.push(editorState,newContentState,"add-annotation-delete");newEditorState=Draft.EditorState.forceSelection(newEditorState,finalSelection);var fragment=getFragmentFromSelection_default()(editorState);editor.setClipboard(fragment);var wSelection=document.getSelection();return event.clipboardData.setData("text/plain",wSelection.toString()),editor.update(newEditorState),constants.c}__webpack_require__(118),__webpack_require__(75);var getEntitiesInSelection=__webpack_require__(246),getEntityBeforeSelection=__webpack_require__(342),getEntityAfterSelection=__webpack_require__(343),getEntityRangeInBlock=__webpack_require__(120),rightTextMap={"“":"”","‘":"’"};function handleTextInsert(editorState,onChange,text){var contentState=editorState.getCurrentContent(),selection=editorState.getSelection(),currentInlineStyle=editorState.getCurrentInlineStyle();if(!Object(AnnotationUtils.d)(selection))return constants.c;var rightText,shouldReplaceText,operateEntityKey,currentBlock=contentState.getBlockForKey(selection.getStartKey()),inRangeEntities=Object(getEntitiesInSelection.a)(contentState,selection),beforeRangeEntity=Object(getEntityBeforeSelection.a)(contentState,selection),afterRangeEntity=Object(getEntityAfterSelection.a)(contentState,selection);if(1===inRangeEntities.length&&Object(AnnotationUtils.e)(contentState,selection,Annotation_constants.a))operateEntityKey=inRangeEntities[0],selection=(contentState=Draft.Modifier.removeRange(contentState,selection)).getSelectionAfter();else if(selection.isCollapsed())if(beforeRangeEntity&&contentState.getEntity(beforeRangeEntity).getType()===Annotation_constants.a)operateEntityKey=beforeRangeEntity;else if(afterRangeEntity&&contentState.getEntity(afterRangeEntity).getType()===Annotation_constants.a)operateEntityKey=afterRangeEntity;else{if(Object(AnnotationUtils.e)(contentState,selection,Annotation_constants.b))return constants.c;operateEntityKey=(contentState=contentState.createEntity(Annotation_constants.a,"MUTABLE")).getLastCreatedEntityKey()}else{if(selection.isCollapsed()||!Object(AnnotationUtils.c)(contentState,selection,inRangeEntities))return constants.c;contentState=Object(AnnotationUtils.a)(contentState,selection),selection=selection.merge({anchorOffset:selection.getEndOffset(),focusOffset:selection.getEndOffset(),isBackward:!1}),operateEntityKey=(contentState=contentState.createEntity(Annotation_constants.a,"MUTABLE")).getLastCreatedEntityKey()}if("“"===text||"‘"===text){rightText=rightTextMap[text];var entityRange=Object(getEntityRangeInBlock.a)(currentBlock,operateEntityKey),enitytTextBefore=entityRange?currentBlock.getText().slice(entityRange[0],selection.getStartOffset()):"",entityTextAfter=entityRange?currentBlock.getText().slice(selection.getStartOffset(),entityRange[1]):"",beforeDelta=enitytTextBefore.split(text).length-1-(enitytTextBefore.split(rightText).length-1),afterLeftQuoteCount=entityTextAfter.split(text).length-1;beforeDelta>entityTextAfter.split(rightText).length-1-afterLeftQuoteCount&&(shouldReplaceText=!0)}return contentState=Draft.Modifier.insertText(contentState,selection,shouldReplaceText?rightText:text,currentInlineStyle,operateEntityKey),onChange(Draft.EditorState.push(editorState,contentState)),constants.c}function handleBeforeInput(editorState,onChange,text){return handleTextInsert(editorState,onChange,text)}var handleKeyCommand=__webpack_require__(1228);function handlePastedText(editorState,onChange,text,html){return handleTextInsert(editorState,onChange,text)}function handleReturn(editorState){var contentState=editorState.getCurrentContent(),selection=editorState.getSelection(),currentBlock=contentState.getBlockForKey(selection.getStartKey());if(currentBlock.getData().get("isOrigin")&&(!selection.isCollapsed()||selection.getEndOffset()<currentBlock.getLength()))return constants.c}function handleToggleBlockType(editorState,onChange,blockType){var contentState=editorState.getCurrentContent(),selection=editorState.getSelection(),newContentState=Object(AnnotationUtils.f)(contentState,selection,blockType);return newContentState!==contentState&&onChange(Draft.EditorState.push(editorState,newContentState,"toggle-block-type")),constants.c}__webpack_require__(146),__webpack_require__(147),__webpack_require__(110);var _conflictStylesMap,handleToggleInlineStyle=__webpack_require__(244);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var conflictStylesMap=(_defineProperty(_conflictStylesMap={},constants.d.BOLD,[constants.d.LIGHT]),_defineProperty(_conflictStylesMap,constants.d.LIGHT,[constants.d.BOLD]),_conflictStylesMap);function handleToggleInlineStyle_handleToggleInlineStyle(editorState,onChange,inlineStyle){var newEditorState=function toggleInlineStyle(editorState,inlineStyle){var newContentState,shouldUpdateStyleAnnotation,newCurrentStyle,contentState=editorState.getCurrentContent(),selection=editorState.getSelection(),currentStyle=editorState.getCurrentInlineStyle(),conflictStyles=conflictStylesMap[inlineStyle];if(!Object(AnnotationUtils.d)(selection))return null;if(selection.isCollapsed())return currentStyle.has(inlineStyle)?newCurrentStyle=currentStyle.remove(inlineStyle):(newCurrentStyle=currentStyle.add(inlineStyle),conflictStyles&&conflictStyles.forEach((function(conflictStyle){conflictStyle&&newCurrentStyle.has(conflictStyle)&&(newCurrentStyle=newCurrentStyle.remove(conflictStyle))}))),Draft.EditorState.setInlineStyleOverride(editorState,newCurrentStyle);var targetRange=selection;return Object(AnnotationUtils.e)(contentState,targetRange,Annotation_constants.a)?Object(handleToggleInlineStyle.b)(editorState,inlineStyle):Object(AnnotationUtils.e)(contentState,targetRange,Annotation_constants.b)?null:(Object(AnnotationUtils.e)(contentState,targetRange,Annotation_constants.c)?(shouldUpdateStyleAnnotation=!0,newContentState=contentState):newContentState=Object(AnnotationUtils.b)(contentState,targetRange),shouldUpdateStyleAnnotation||newContentState!==contentState?(currentStyle.has(inlineStyle)?newContentState=Draft.Modifier.removeInlineStyle(newContentState,targetRange,inlineStyle):(newContentState=Draft.Modifier.applyInlineStyle(newContentState,targetRange,inlineStyle),conflictStyles&&conflictStyles.forEach((function(conflictStyle){currentStyle.has(conflictStyle)&&(newContentState=Draft.Modifier.removeInlineStyle(newContentState,selection,conflictStyle))}))),shouldUpdateStyleAnnotation&&(newContentState=Object(AnnotationUtils.g)(newContentState,targetRange)),Draft.EditorState.push(editorState,newContentState,"change-inline-style")):null)}(editorState,inlineStyle);newEditorState&&onChange(newEditorState)}var MultiDecorator=__webpack_require__(243),immutable=(__webpack_require__(477),__webpack_require__(133),__webpack_require__(9)),prism=__webpack_require__(753),prism_default=__webpack_require__.n(prism);var lib_occupySlice=function occupySlice(targetArr,start,end,componentKey){for(var ii=start;ii<end;ii++)targetArr[ii]=componentKey},jsx_runtime=__webpack_require__(3);function defaultRender(props){var className="prism-token token ".concat(props.type);return Object(jsx_runtime.jsx)("span",{type:props.type,className:className,children:props.children})}defaultRender.displayName="defaultRender";var PrismOptions=Object(immutable.Record)({defaultSyntax:null,filter:function defaultFilter(block){return"code-block"===block.getType()},getSyntax:function defaultGetSyntax(block){return block.getData?block.getData().get("syntax"):null},render:defaultRender});function PrismDecorator(options){this.options=PrismOptions(options||{}),this.highlighted={}}PrismDecorator.prototype.getDecorations=function(block,contentState){var token,tokenId,resultId,offset=0,filter=this.options.get("filter"),getSyntax=this.options.get("getSyntax"),blockKey=block.getKey(),blockText=block.getText(),decorations=Array(blockText.length).fill(null);if(this.highlighted[blockKey]={},!filter(block))return Object(immutable.List)(decorations);var syntax=getSyntax(block)||this.options.get("defaultSyntax");if(null==syntax)return Object(immutable.List)(decorations);var grammar=prism_default.a.languages[syntax];if(!grammar)return Object(immutable.List)(decorations);for(var tokens=prism_default.a.tokenize(blockText,grammar),i=0;i<tokens.length;i++)"string"==typeof(token=tokens[i])||(tokenId="tok".concat(offset),resultId="".concat(blockKey,"-").concat(tokenId),this.highlighted[blockKey][tokenId]=token,lib_occupySlice(decorations,offset,offset+token.length,resultId)),offset+=token.length;return Object(immutable.List)(decorations)},PrismDecorator.prototype.getComponentForKey=function(key){return this.options.get("render")},PrismDecorator.prototype.getPropsForKey=function(key){var parts=key.split("-"),blockKey=parts[0],tokId=parts[1];return{type:this.highlighted[blockKey][tokId].type}};var plugins_PrismDecorator=PrismDecorator,getEntityTypeStrategy=(__webpack_require__(167),__webpack_require__(168),__webpack_require__(169),__webpack_require__(170),__webpack_require__(148)),prop_types=__webpack_require__(4),prop_types_default=__webpack_require__.n(prop_types);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Annotation_Annotation=function(_Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Annotation,_Component);var _super=_createSuper(Annotation);function Annotation(){return _classCallCheck(this,Annotation),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Annotation,[{key:"render",value:function render(){var _this=this,_this$props=this.props,entityKey=_this$props.entityKey,offsetKey=_this$props.offsetKey,contentState=_this$props.contentState,children=_this$props.children,type=contentState.getEntity(entityKey).getType();return Object(jsx_runtime.jsx)("span",{"data-entity-type":type,"data-offset-key":offsetKey,ref:function ref(node){_this.dom=node},children:children})}}]),Annotation}(react.Component);Annotation_Annotation.propTypes={children:prop_types_default.a.node},Annotation_Annotation.__docgenInfo={description:"",methods:[],displayName:"Annotation",props:{children:{type:{name:"node"},required:!1,description:""}}};var components_Annotation=Annotation_Annotation;function AnnotationDecorator_typeof(obj){return(AnnotationDecorator_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function AnnotationDecorator_setPrototypeOf(o,p){return(AnnotationDecorator_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function AnnotationDecorator_createSuper(Derived){var hasNativeReflectConstruct=function AnnotationDecorator_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=AnnotationDecorator_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=AnnotationDecorator_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return AnnotationDecorator_possibleConstructorReturn(this,result)}}function AnnotationDecorator_possibleConstructorReturn(self,call){return!call||"object"!==AnnotationDecorator_typeof(call)&&"function"!=typeof call?function AnnotationDecorator_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function AnnotationDecorator_getPrototypeOf(o){return(AnnotationDecorator_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plugins/Annotation/components/Annotation/index.js"]={name:"Annotation",docgenInfo:Annotation_Annotation.__docgenInfo,path:"src/plugins/Annotation/components/Annotation/index.js"});var Annotation_AnnotationDecorator=function(_CompositeDecorator){!function AnnotationDecorator_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&AnnotationDecorator_setPrototypeOf(subClass,superClass)}(AnnotationDecorator,_CompositeDecorator);var _super=AnnotationDecorator_createSuper(AnnotationDecorator);function AnnotationDecorator(){return function AnnotationDecorator_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AnnotationDecorator),_super.call(this,[{strategy:Object(getEntityTypeStrategy.a)(Annotation_constants.b),component:components_Annotation},{strategy:Object(getEntityTypeStrategy.a)(Annotation_constants.a),component:components_Annotation},{strategy:Object(getEntityTypeStrategy.a)(Annotation_constants.c),component:components_Annotation}])}return AnnotationDecorator}(Draft.CompositeDecorator),DATA_ATTRIBUTE=(__webpack_require__(338),/^data-([a-z0-9-]+)$/),ELEM_ATTR_MAP={a:{href:"url",rel:"rel",target:"target",title:"title"},img:{src:"src",alt:"alt"}},getElementData=function getElementData(tagName,element,externalAttrMap){var data={},attrMap=externalAttrMap||ELEM_ATTR_MAP[tagName];if(attrMap)for(var i=0;i<element.attributes.length;i+=1){var _element$attributes$i=element.attributes[i],name=_element$attributes$i.name,value=_element$attributes$i.value;if(null!=value)if(Object.prototype.hasOwnProperty.call(attrMap,name)){var newName=attrMap[name];data[newName]=value}else DATA_ATTRIBUTE.test(name)&&(data[name]=value)}else{var dataset=element.dataset;Object.keys(dataset).forEach((function(key){data[key]=dataset[key]}))}return data},elemAttrMap={},stateFromHTMLConfig={customBlockFn:function customBlockFn(element){var tagName=element.nodeName.toLowerCase(),data=getElementData(tagName,element,elemAttrMap[tagName]);return"PRE"===element.tagName&&(data.language=element.children[0].dataset.language),{data:data}},customInlineFn:function customInlineFn(element,_ref){var mutability,Style=_ref.Style,Entity=_ref.Entity,tagName=element.nodeName.toLowerCase(),data=getElementData(tagName,element),entityType=data.entityType;if("code"===tagName&&"pre"===element.parentNode.nodeName.toLowerCase())return{};if("span"===tagName&&"t-light"===element.className)return Style(constants.d.LIGHT);switch(entityType){case Annotation_constants.a:case Annotation_constants.b:break;case Annotation_constants.c:mutability="IMMUTABLE"}return entityType?Entity(entityType,data,mutability):null},elementStyles:void 0},kebabCase=__webpack_require__(341),kebabCase_default=__webpack_require__.n(kebabCase),stateToHTMLConfig=__webpack_require__(491),stateToHTMLConfig_getEntityData=function getEntityData(entity){var entityType=entity.getType(),data=entity.getData();switch(entityType){case Annotation_constants.c:return{entityType:entityType,initStyle:data.initStyle};case Annotation_constants.b:case Annotation_constants.a:default:return data.entityType=entityType,data}},stateToHTMLConfig_dataAttributes=function dataAttributes(){var obj=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},output={};return Object.keys(obj).forEach((function(key){output["data-".concat(kebabCase_default()(key))]=obj[key]})),output},helpers_stateToHTMLConfig=Object.assign({},stateToHTMLConfig.a,{blockRenderers:{},blockStyleFn:function blockStyleFn(block){var data=block.getData().toJS(),output={};return block.getType()===constants.a.CODE_BLOCK&&(data.language=data.language||"javascript",delete data.syntax),Object.keys(data).forEach((function(key){output["data-".concat(kebabCase_default()(key))]=data[key]})),{attributes:output}},entityStyleFn:function entityStyleFn(entity){var entityType=entity.get("type");return entityType!==Annotation_constants.b&&entityType!==Annotation_constants.a&&entityType!==Annotation_constants.c?null:{element:function getEntityTags(entityType){switch(entityType){case Annotation_constants.b:case Annotation_constants.a:default:return"span"}}(entityType),attributes:stateToHTMLConfig_dataAttributes(stateToHTMLConfig_getEntityData(entity))}}}),AuditEditor_Editor=function Editor(props){return Object(jsx_runtime.jsx)(components_Editor.a,Object.assign({},props,{handleBeforeCut:handleBeforeCut,handleBeforeInput:handleBeforeInput,handlePastedText:handlePastedText,handleKeyCommand:handleKeyCommand.a,handleReturn:handleReturn,handleToggleBlockType:handleToggleBlockType,handleToggleInlineStyle:handleToggleInlineStyle_handleToggleInlineStyle}))};AuditEditor_Editor.displayName="Editor";new MultiDecorator.a([new plugins_PrismDecorator,new Annotation_AnnotationDecorator]),Draft.convertToRaw;AuditEditor_Editor.__docgenInfo={description:"",methods:[],displayName:"Editor"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AuditEditor.js"]={name:"Editor",docgenInfo:AuditEditor_Editor.__docgenInfo,path:"src/AuditEditor.js"});var helpers_contentStateFromHTML=__webpack_require__(247),helpers_contentStateToHTML=__webpack_require__(173),CodeLineDecorator=(Draft.convertToRaw,__webpack_require__(487)),Toolbar=__webpack_require__(492);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var customDecorator=new MultiDecorator.a([new CodeLineDecorator.a({defaultSyntax:"javascript"}),new Annotation_AnnotationDecorator]),_1_Annotation_stories_Annotated=(__webpack_exports__.default={parameters:{storySource:{source:"import React, { useMemo, useState } from 'react';\nimport { EditorState } from 'draft-js';\nimport { Editor } from '@feat/feat-editor/lib/AuditEditor';\nimport stateToHTMLConfig from '@feat/feat-editor/lib/plugins/Annotation/helpers/stateToHTMLConfig';\nimport stateFromHTMLConfig from '@feat/feat-editor/lib/plugins/Annotation/helpers/stateFromHTMLConfig';\n\nimport contentStateFromHTML from '@feat/feat-editor/lib/helpers/contentStateFromHTML';\nimport contentStateToHTML from '@feat/feat-editor/lib/helpers/contentStateToHTML';\nimport contentStateToRaw from '@feat/feat-editor/lib/helpers/contentStateToRaw';\n\nimport MultiDecorator from '@feat/feat-editor/lib/libs/MultiDecorator';\nimport CodeLineDecorator from '@feat/feat-editor/lib/plugins/CodeLineDecorator';\nimport AnnotationDecorator from '@feat/feat-editor/lib/plugins/Annotation/AnnotationDecorator';\nimport handleToggleInlineStyle from '@feat/feat-editor/lib/plugins/Annotation/handlers/handleToggleInlineStyle';\nimport handleToggleBlockType from '@feat/feat-editor/lib/plugins/Annotation/handlers/handleToggleBlockType';\nimport Toolbar from '@feat/feat-editor/lib/components/Toolbar/Toolbar';\n\nimport annotatedHtml from './data/annotated.html';\n\nconst customDecorator = new MultiDecorator([new CodeLineDecorator({ defaultSyntax: 'javascript' }), new AnnotationDecorator()]);\n\nexport default {\n  title: 'Annotation Editor',\n};\n\nexport const Annotated = () => {\n  const [editorState, setEditorState] = useState(\n    EditorState.createWithContent(\n      contentStateFromHTML(annotatedHtml, stateFromHTMLConfig),\n      customDecorator,\n    ),\n  );\n\n  const html = useMemo(() => {\n    const content = editorState.getCurrentContent();\n    const output = contentStateToHTML(content, stateToHTMLConfig);\n    console.log(output);\n    return output;\n  }, [editorState.getCurrentContent()]);\n\n  return (\n    <div className=\"demo\">\n      <Toolbar\n        handleToggleInlineStyle={handleToggleInlineStyle}\n        handleToggleBlockType={handleToggleBlockType}\n        editorState={editorState}\n        onChange={setEditorState}\n      />\n      <Editor\n        placeholder=\"Title\"\n        customStyleMap={{\n          LIGHT: { fontWeight: 300 },\n        }}\n        editorState={editorState}\n        onChange={setEditorState}\n      />\n    </div>\n  );\n};\n\n",locationsMap:{annotated:{startLoc:{col:25,line:26},endLoc:{col:1,line:59},startBody:{col:25,line:26},endBody:{col:1,line:59}}}}},title:"Annotation Editor"},function Annotated(){var _useState2=_slicedToArray(Object(react.useState)(Draft.EditorState.createWithContent(Object(helpers_contentStateFromHTML.a)('<p data-block-key="nmjo" data-origin="F0D38C95-4F55-DE01-9131-1D5F8D129D62">Aut ut quis excepturi. Officiis earum qui aliquam libero omnis repellat voluptas itaque molestiae. Nesciunt voluptatibus temporibus repellendus aut vitae. Magnam esse expedita similique aperiam repellat sed et sit.</p>\n<p data-block-key="6ja29" data-origin="7FFA58C5-5593-8069-2A71-18F56F4150E6">Perspiciatis ut iste quaerat voluptate a corrupti dolor. Est omnis et in doloribus sunt consequatur atque possimus distinctio. Cumque quia a ipsam illum quia.</p>\n<ul>\n  <li data-block-key="459hs" data-origin="EC540D7D-A5E0-1270-FE6B-D61BC79A04F0" data-new-block-type="unordered-list-item" data-origin-block-type="unstyled">Adipisci necessitatibus dolores magnam. Accusantium eos totam iusto nemo doloribus. Molestias eaque velit quaerat quia qui quia mollitia et fugiat. Perspiciatis amet similique sint excepturi ea omnis aut.😄</li>\n</ul>\n<p data-block-key="34k6o" data-origin="4CD5E89D-9CED-3A5F-40AB-6D8EC4F9D459">Tempore assumenda et neque officiis aut eaque velit. Libero aut similique nihil ut cupiditate minima. Nostrum vero ut ad officiis aut. Dolores officiis cum. Tempora beatae dicta sapiente sit autem.</p>\n<p data-block-key="4bgbk" data-origin="D5A04D19-C2AD-DCB4-3EA4-72C93439673C">Quisquam voluptatum neque. Mollitia sequi enim exercitationem dolor enim praesenti<span data-entity-type="annotation:delete">um sed non. Voluptatem est vel enim eum quo ut. Et unde non consectetur reprehenderit voluptatibus et laboriosam laboriosam blandit</span>iis.</p>\n<pre data-language="javascript"><code data-language="javascript">const a = \'123\'; <span data-entity-type="annotation:add">// annotation</span></code></pre>\n<p data-block-key="1ebgp" data-origin="41B1EC3A-1B77-34DC-54B9-F9C76E27BAB5">Ad quas fuga quas aspernatur provident perferendis sit accusantium. Soluta quasi dolores voluptatum laborum aliquid et sit. Quia nobis tempora et beatae. Et et nam dolor voluptatum placeat aut qui laudantium accusamus. Exercitationem possimus quia saepe repudiandae architecto sapiente deleniti. Odio inventore qui eaque ad.</p>\n<p data-block-key="3hnpa" data-origin="F349420B-6CB4-BBEF-934A-D2D0FD23FAD4">Consequatur maxime sed quos sit laudantium. Dolor sapiente excepturi ratione. Porro perspiciatis neque autem. Nemo ratione dolorem officia est magnam consequatur qui natus cumque. Maxime repellat ut enim. Quia officia adipisci quod officia et consequuntur blanditiis.</p>\n<p data-block-key="f4aoe" data-origin="B5F5226A-EE00-683D-00F7-36D6E0AAF44F">Voluptates quam quis dolores. Laboriosam qui dolor consectetur et. Molestiae sed ut eos qui ut in. Explicabo odit nisi enim maxime.</p>\n<p data-block-key="c3g2j" data-origin="6A86340E-6A31-6F98-20BF-19460D392264">Deleniti animi at et illo molestiae ut. Rem et consequatur consequatur incidunt dol<span data-entity-type="annotation:add">ores et aliquam. Mollitia odit repud</span>iandae reprehenderit magni ipsa libero ut.</p>\n<p data-block-key="bkoct" data-origin="77CCB36E-A085-5B8B-5C93-10853D26A4C9">Et <strong>consequatur</strong> doloribus <em>iste non</em> iure minima dicta accusamus. Sint autem recusandae facere quibusdam ipsa rerum quae. Nihil id dolores et beatae eaque perspiciatis. Non ab <span class="t-light">accusamus</span> dolorem. Quo qui occaecati. Sint natus numquam.</p>\n<ul>\n  <li>Demo List Item</li>\n  <li>Demo List Item02</li>\n</ul>\n',stateFromHTMLConfig),customDecorator)),2),editorState=_useState2[0],setEditorState=_useState2[1];Object(react.useMemo)((function(){var content=editorState.getCurrentContent(),output=Object(helpers_contentStateToHTML.a)(content,helpers_stateToHTMLConfig);return console.log(output),output}),[editorState.getCurrentContent()]);return Object(jsx_runtime.jsxs)("div",{className:"demo",children:[Object(jsx_runtime.jsx)(Toolbar.a,{handleToggleInlineStyle:handleToggleInlineStyle_handleToggleInlineStyle,handleToggleBlockType:handleToggleBlockType,editorState:editorState,onChange:setEditorState}),Object(jsx_runtime.jsx)(AuditEditor_Editor,{placeholder:"Title",customStyleMap:{LIGHT:{fontWeight:300}},editorState:editorState,onChange:setEditorState})]})});_1_Annotation_stories_Annotated.displayName="Annotated",_1_Annotation_stories_Annotated.__docgenInfo={description:"",methods:[],displayName:"Annotated"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/1-Annotation.stories.js"]={name:"Annotated",docgenInfo:_1_Annotation_stories_Annotated.__docgenInfo,path:"stories/1-Annotation.stories.js"})},2501:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Aritcle",(function(){return _0_FeatEditor_stories_Aritcle})),__webpack_require__.d(__webpack_exports__,"ArticleHTML",(function(){return _0_FeatEditor_stories_ArticleHTML})),__webpack_require__.d(__webpack_exports__,"CodeBlock",(function(){return _0_FeatEditor_stories_CodeBlock})),__webpack_require__.d(__webpack_exports__,"CodeBlockHTML",(function(){return _0_FeatEditor_stories_CodeBlockHTML})),__webpack_require__.d(__webpack_exports__,"BlockEdgeCase",(function(){return _0_FeatEditor_stories_BlockEdgeCase}));__webpack_require__(460),__webpack_require__(100),__webpack_require__(101),__webpack_require__(73),__webpack_require__(102),__webpack_require__(103),__webpack_require__(88),__webpack_require__(104),__webpack_require__(105),__webpack_require__(241),__webpack_require__(468);var react=__webpack_require__(5),Draft=__webpack_require__(0),constants=__webpack_require__(2),MultiDecorator=__webpack_require__(243),CodeLineDecorator=__webpack_require__(487),ImageUploader=__webpack_require__(493),getEntityTypeStrategy=__webpack_require__(148),Image=__webpack_require__(488),prop_types=(__webpack_require__(118),__webpack_require__(75),__webpack_require__(171),__webpack_require__(4)),prop_types_default=__webpack_require__.n(prop_types),jsx_runtime=__webpack_require__(3);function Video(props){var data=props.contentState.getEntity(props.entityKey).getData(),blockKey=props.offsetKey.split("-")[0],dragData={entityKey:props.entityKey,blockKey:blockKey};return Object(jsx_runtime.jsx)("video",Object.assign({onDragStart:function onDragStart(e){e.dataTransfer.setData("text/plain",JSON.stringify(dragData))}},data))}function Audio(props){var data=props.contentState.getEntity(props.entityKey).getData(),blockKey=props.offsetKey.split("-")[0],dragData={entityKey:props.entityKey,blockKey:blockKey};return Object(jsx_runtime.jsx)("audio",Object.assign({onDragStart:function onDragStart(e){e.dataTransfer.setData("text/plain",JSON.stringify(dragData))}},data))}Video.displayName="Video",Video.propTypes={offsetKey:prop_types_default.a.string,entityKey:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number]),contentState:prop_types_default.a.object},Video.__docgenInfo={description:"",methods:[],displayName:"Video",props:{offsetKey:{type:{name:"string"},required:!1,description:""},entityKey:{type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1,description:""},contentState:{type:{name:"object"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Video/index.js"]={name:"Video",docgenInfo:Video.__docgenInfo,path:"src/components/Video/index.js"}),Audio.displayName="Audio",Audio.__docgenInfo={description:"",methods:[],displayName:"Audio"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Audio/index.js"]={name:"Audio",docgenInfo:Audio.__docgenInfo,path:"src/components/Audio/index.js"});var model_defaultDecorators=new MultiDecorator.a([new CodeLineDecorator.a,new Draft.CompositeDecorator([{strategy:Object(getEntityTypeStrategy.a)(constants.b.IMAGE),component:Image.a},{strategy:Object(getEntityTypeStrategy.a)(constants.b.VIDEO),component:Video},{strategy:Object(getEntityTypeStrategy.a)(constants.b.AUDIO),component:Audio},{strategy:Object(getEntityTypeStrategy.a)(constants.b.IMAGE_UPLOADER),component:ImageUploader.a}])]);function createFromRaw(data){var decorator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:model_defaultDecorators;return Draft.EditorState.createWithContent(Object(Draft.convertFromRaw)(data),decorator)}var Toolbar=__webpack_require__(149),Editor=__webpack_require__(119),contentStateFromHTML=__webpack_require__(247),contentStateToHTML=__webpack_require__(173),code_block=(__webpack_require__(2482),{blocks:[{key:"no0s",type:"header-three",text:"Default"},{key:"bl1s",type:"code-block",text:"function(a) {\n  console.log(123123);\n}"},{key:"no1s",type:"header-three",text:"return ending"},{key:"bl2s",type:"code-block",text:"function(a) {\n console.log(123123);\n"},{key:"no2s",type:"header-three",text:"empty:"},{key:"bl3s",type:"code-block",text:""},{key:"no3s",type:"header-three",text:"range block change"},{key:"lin1",type:"unstyled",text:"function(a) {"},{key:"lin2",type:"unstyled",text:"  console.log(123123);"},{key:"lin3",type:"unstyled",text:"}"}],entityMap:{}}),article={blocks:[{key:"30krc",text:"Custom",type:"header-one",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"13g7a",text:"Light text",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:10,style:"LIGHT"}],entityRanges:[],data:{}},{key:"3uds4",text:"Protégé Desktop supports creation and editing of one or more ontologies in a single workspace via a completely customizable user interface. Visualization tools allow for interactive navigation of ontology relationships. Advanced explanation support aids in tracking down inconsistencies. Refactor operations available including ontology merging, moving axioms between ontologies, rename of multiple entities, and more.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"cdd41",text:" ",type:"atomic",depth:0,inlineStyleRanges:[],entityRanges:[{offset:0,length:1,key:0}],data:{}},{key:"9083s",text:"Get overviews and more in-depth information about Protégé and ontology development on the Protégé Wiki – the official home for all of our documentation. You'll find FAQs, tutorials, user guides, developer guides, and much more.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"90cx8",text:"order list item-01",type:"ordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"fo63b",text:"order list item 02",type:"ordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"bu9iv",text:"order list item 03",type:"ordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"7r8de",text:"Get overviews and more in-depth information about Protégé and ontology development on the Protégé Wiki – the official home for all of our documentation. You'll find FAQs, tutorials, user guides, developer guides, and much more.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"61c59",text:"unorder list item 01",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"eqg0j",text:"unorder list item 02",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"18iom",text:"unorder list item 03",type:"unordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"cac6h",text:"Get overviews and more in-depth information about Protégé and then.",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"89cge",text:"order list item-01",type:"ordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"8ks01",text:"order list depth 1-1",type:"ordered-list-item",depth:1,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"eh8i6",text:"order list depth 1-2",type:"ordered-list-item",depth:1,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"e6n2q",text:"order list item 02",type:"ordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}},{key:"5q3li",text:"order list item 03",type:"ordered-list-item",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}],entityMap:{0:{type:"IMAGE",mutability:"IMMUTABLE",data:{src:"https://tpc.googlesyndication.com/simgad/7164956003424764919","data-id":"DEMO","data-mime-type":"DEMO_MIMETYPE"}}}};__webpack_require__(2486);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={parameters:{storySource:{source:"import React, { useMemo, useState } from 'react';\nimport { EditorState } from 'draft-js';\nimport createFromRawData from '@feat/feat-editor/lib/helpers/createFromRawData';\nimport Toolbar from '@feat/feat-editor/lib/components/Toolbar';\nimport Editor from '@feat/feat-editor/lib/components/Editor';\n\nimport decorator from '@feat/feat-editor/lib/model/defaultDecorators';\n\nimport contentStateFromHTML from '@feat/feat-editor/lib/helpers/contentStateFromHTML';\nimport contentStateToHTML from '@feat/feat-editor/lib/helpers/contentStateToHTML';\nimport 'draft-js/dist/Draft.css';\n\nimport codeBlockRaw from './data/code-block';\nimport articleRaw from './data/article';\nimport articleHtml from './data/article.html';\n\nimport codeBlockHtml from './data/code-block.html';\n\n\nimport './styles/basic.scss';\n\nexport default {\n  title: 'FeatEditor Basic',\n  component: null,\n};\n\nexport const Aritcle = () => {\n  const [editorState, setEditorState] = useState(\n    createFromRawData(articleRaw),\n  );\n  const html = useMemo(() => contentStateToHTML(editorState.getCurrentContent()), [editorState.getCurrentContent()]);\n  return (\n    <div className=\"demo\">\n      <Toolbar editorState={editorState} onChange={setEditorState} />\n      <Editor\n        editorState={editorState}\n        customStyleMap={{\n          LIGHT: {\n            fontWeight: 300,\n          },\n        }}\n        onChange={setEditorState}\n      />\n      {html && (\n        <div>\n          <hr />\n          <div>Export: </div>\n          <hr />\n          <div dangerouslySetInnerHTML={{ __html: html }} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const ArticleHTML = () => {\n  const [editorState, setEditorState] = useState(\n    EditorState.createWithContent(contentStateFromHTML(articleHtml), decorator),\n  );\n  const html = useMemo(() => contentStateToHTML(editorState.getCurrentContent()), [editorState.getCurrentContent()]);\n  return (\n    <div className=\"demo\">\n      <Toolbar editorState={editorState} onChange={setEditorState} />\n      <Editor\n        editorState={editorState}\n        customStyleMap={{\n          LIGHT: {\n            fontWeight: 300,\n          },\n        }}\n        onChange={setEditorState}\n      />\n      {html && (\n        <div>\n          <hr />\n          <div>Export: </div>\n          <hr />\n          <div dangerouslySetInnerHTML={{ __html: html }} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const CodeBlock = () => {\n  const [editorState, setEditorState] = useState(\n    createFromRawData(codeBlockRaw),\n  );\n  const html = useMemo(() => contentStateToHTML(editorState.getCurrentContent()), [editorState.getCurrentContent()]);\n  return (\n    <div className=\"demo\">\n      <Toolbar editorState={editorState} onChange={setEditorState} />\n      <Editor\n        editorState={editorState}\n        customStyleMap={{\n          LIGHT: {\n            fontWeight: 300,\n          },\n        }}\n        onChange={setEditorState}\n      />\n      {html && (\n        <div>\n          <hr />\n          <div>Export: </div>\n          <hr />\n          <div dangerouslySetInnerHTML={{ __html: html }} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const CodeBlockHTML = () => {\n  const [editorState, setEditorState] = useState(\n    EditorState.createWithContent(contentStateFromHTML(codeBlockHtml), decorator),\n  );\n  const html = useMemo(() => contentStateToHTML(editorState.getCurrentContent()), [editorState.getCurrentContent()]);\n  return (\n    <div className=\"demo\">\n      <Toolbar editorState={editorState} onChange={setEditorState} />\n      <Editor\n        editorState={editorState}\n        customStyleMap={{\n          LIGHT: {\n            fontWeight: 300,\n          },\n        }}\n        onChange={setEditorState}\n      />\n      {html && (\n        <div>\n          <hr />\n          <div>Export: </div>\n          <hr />\n          <div dangerouslySetInnerHTML={{ __html: html }} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const BlockEdgeCase = () => {\n  const [editorState, setEditorState] = useState(\n    EditorState.createWithContent(contentStateFromHTML('<h1></h1>'), decorator),\n  );\n  const html = useMemo(() => contentStateToHTML(editorState.getCurrentContent()), [editorState.getCurrentContent()]);\n  return (\n    <div className=\"demo\">\n      <Toolbar editorState={editorState} onChange={setEditorState} />\n      <Editor\n        editorState={editorState}\n        customStyleMap={{\n          LIGHT: {\n            fontWeight: 300,\n          },\n        }}\n        onChange={setEditorState}\n      />\n      {html && (\n        <div>\n          <hr />\n          <div>Export: </div>\n          <hr />\n          <div dangerouslySetInnerHTML={{ __html: html }} />\n        </div>\n      )}\n    </div>\n  );\n};\n",locationsMap:{aritcle:{startLoc:{col:23,line:27},endLoc:{col:1,line:54},startBody:{col:23,line:27},endBody:{col:1,line:54}},"article-html":{startLoc:{col:27,line:56},endLoc:{col:1,line:83},startBody:{col:27,line:56},endBody:{col:1,line:83}},"code-block":{startLoc:{col:25,line:85},endLoc:{col:1,line:112},startBody:{col:25,line:85},endBody:{col:1,line:112}},"code-block-html":{startLoc:{col:29,line:114},endLoc:{col:1,line:141},startBody:{col:29,line:114},endBody:{col:1,line:141}},"block-edge-case":{startLoc:{col:29,line:143},endLoc:{col:1,line:170},startBody:{col:29,line:143},endBody:{col:1,line:170}}}}},title:"FeatEditor Basic",component:null};var _0_FeatEditor_stories_Aritcle=function Aritcle(){var _useState2=_slicedToArray(Object(react.useState)(createFromRaw(article)),2),editorState=_useState2[0],setEditorState=_useState2[1],html=Object(react.useMemo)((function(){return Object(contentStateToHTML.a)(editorState.getCurrentContent())}),[editorState.getCurrentContent()]);return Object(jsx_runtime.jsxs)("div",{className:"demo",children:[Object(jsx_runtime.jsx)(Toolbar.a,{editorState:editorState,onChange:setEditorState}),Object(jsx_runtime.jsx)(Editor.a,{editorState:editorState,customStyleMap:{LIGHT:{fontWeight:300}},onChange:setEditorState}),html&&Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{children:"Export: "}),Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{dangerouslySetInnerHTML:{__html:html}})]})]})};_0_FeatEditor_stories_Aritcle.displayName="Aritcle";var _0_FeatEditor_stories_ArticleHTML=function ArticleHTML(){var _useState4=_slicedToArray(Object(react.useState)(Draft.EditorState.createWithContent(Object(contentStateFromHTML.a)('<h1>Custom</h1>\n<p><span class="t-light">Light text</span></p>\n<p>Protégé Desktop <strong>supports</strong> creation and <em>editing of one</em> or more <u>ontologies</u> in a single workspace via a completely customizable user interface. Visualization tools allow for interactive navigation of ontology relationships. Advanced explanation support aids in tracking down inconsistencies. Refactor operations available including ontology merging, moving axioms between ontologies, rename of multiple entities, and more.</p>\n<figure><img src="https://tpc.googlesyndication.com/simgad/7164956003424764919" data-id="DEMO" data-mime-type="DEMO_MIMETYPE"/></figure>\n<p>Get overviews and more in-depth information about Protégé and ontology development on the Protégé Wiki – the official home for all of our documentation. You\'ll find FAQs, tutorials, user guides, developer guides, and much more.</p>\n<ol>\n  <li>order list item-01</li>\n  <li>order list item 02</li>\n  <li>order list item 03</li>\n</ol>\n<p>Get overviews and more in-depth information about Protégé and ontology development on the Protégé Wiki – the official home for all of our documentation. You\'ll find FAQs, tutorials, user guides, developer guides, and much more.</p>\n<ul>\n  <li>unorder list item 01</li>\n  <li>unorder list item 02</li>\n  <li>unorder list item 03</li>\n</ul>\n<p>Get overviews and more in-depth information about Protégé and then.</p>\n<ol>\n  <li>order list item-01\n    <ol>\n      <li>order list depth 1-1</li>\n      <li>order list depth 1-2</li>\n    </ol>\n  </li>\n  <li>order list item 02</li>\n  <li>order list item 03</li>\n</ol>'),model_defaultDecorators)),2),editorState=_useState4[0],setEditorState=_useState4[1],html=Object(react.useMemo)((function(){return Object(contentStateToHTML.a)(editorState.getCurrentContent())}),[editorState.getCurrentContent()]);return Object(jsx_runtime.jsxs)("div",{className:"demo",children:[Object(jsx_runtime.jsx)(Toolbar.a,{editorState:editorState,onChange:setEditorState}),Object(jsx_runtime.jsx)(Editor.a,{editorState:editorState,customStyleMap:{LIGHT:{fontWeight:300}},onChange:setEditorState}),html&&Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{children:"Export: "}),Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{dangerouslySetInnerHTML:{__html:html}})]})]})};_0_FeatEditor_stories_ArticleHTML.displayName="ArticleHTML";var _0_FeatEditor_stories_CodeBlock=function CodeBlock(){var _useState6=_slicedToArray(Object(react.useState)(createFromRaw(code_block)),2),editorState=_useState6[0],setEditorState=_useState6[1],html=Object(react.useMemo)((function(){return Object(contentStateToHTML.a)(editorState.getCurrentContent())}),[editorState.getCurrentContent()]);return Object(jsx_runtime.jsxs)("div",{className:"demo",children:[Object(jsx_runtime.jsx)(Toolbar.a,{editorState:editorState,onChange:setEditorState}),Object(jsx_runtime.jsx)(Editor.a,{editorState:editorState,customStyleMap:{LIGHT:{fontWeight:300}},onChange:setEditorState}),html&&Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{children:"Export: "}),Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{dangerouslySetInnerHTML:{__html:html}})]})]})};_0_FeatEditor_stories_CodeBlock.displayName="CodeBlock";var _0_FeatEditor_stories_CodeBlockHTML=function CodeBlockHTML(){var _useState8=_slicedToArray(Object(react.useState)(Draft.EditorState.createWithContent(Object(contentStateFromHTML.a)("<h3>Default</h3>\n<pre data-language=\"javascript\"><code data-language=\"javascript\">function(a) {\nGET PARAMS\n{0:'Order',100:'Career',200:'Education',300:'Event',400:'Dimzou_Reword',500:'Dimzou_Publication', 600: 'demo'}</code></pre>\n<h3>return ending</h3>\n<pre data-language=\"javascript\"><code data-language=\"javascript\">function(a) {\n console.log(123123);\n</code></pre>\n<h3>empty:</h3>\n<pre data-language=\"javascript\"><code data-language=\"javascript\"><br></code></pre>\n<h3>range block change</h3>\n<p>function(a) {</p>\n<p>&nbsp;&nbsp;console.log(123123);</p>\n<p>}</p>"),model_defaultDecorators)),2),editorState=_useState8[0],setEditorState=_useState8[1],html=Object(react.useMemo)((function(){return Object(contentStateToHTML.a)(editorState.getCurrentContent())}),[editorState.getCurrentContent()]);return Object(jsx_runtime.jsxs)("div",{className:"demo",children:[Object(jsx_runtime.jsx)(Toolbar.a,{editorState:editorState,onChange:setEditorState}),Object(jsx_runtime.jsx)(Editor.a,{editorState:editorState,customStyleMap:{LIGHT:{fontWeight:300}},onChange:setEditorState}),html&&Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{children:"Export: "}),Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{dangerouslySetInnerHTML:{__html:html}})]})]})};_0_FeatEditor_stories_CodeBlockHTML.displayName="CodeBlockHTML";var _0_FeatEditor_stories_BlockEdgeCase=function BlockEdgeCase(){var _useState10=_slicedToArray(Object(react.useState)(Draft.EditorState.createWithContent(Object(contentStateFromHTML.a)("<h1></h1>"),model_defaultDecorators)),2),editorState=_useState10[0],setEditorState=_useState10[1],html=Object(react.useMemo)((function(){return Object(contentStateToHTML.a)(editorState.getCurrentContent())}),[editorState.getCurrentContent()]);return Object(jsx_runtime.jsxs)("div",{className:"demo",children:[Object(jsx_runtime.jsx)(Toolbar.a,{editorState:editorState,onChange:setEditorState}),Object(jsx_runtime.jsx)(Editor.a,{editorState:editorState,customStyleMap:{LIGHT:{fontWeight:300}},onChange:setEditorState}),html&&Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{children:"Export: "}),Object(jsx_runtime.jsx)("hr",{}),Object(jsx_runtime.jsx)("div",{dangerouslySetInnerHTML:{__html:html}})]})]})};_0_FeatEditor_stories_BlockEdgeCase.displayName="BlockEdgeCase",_0_FeatEditor_stories_Aritcle.__docgenInfo={description:"",methods:[],displayName:"Aritcle"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/0-FeatEditor.stories.js"]={name:"Aritcle",docgenInfo:_0_FeatEditor_stories_Aritcle.__docgenInfo,path:"stories/0-FeatEditor.stories.js"}),_0_FeatEditor_stories_ArticleHTML.__docgenInfo={description:"",methods:[],displayName:"ArticleHTML"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/0-FeatEditor.stories.js"]={name:"ArticleHTML",docgenInfo:_0_FeatEditor_stories_ArticleHTML.__docgenInfo,path:"stories/0-FeatEditor.stories.js"}),_0_FeatEditor_stories_CodeBlock.__docgenInfo={description:"",methods:[],displayName:"CodeBlock"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/0-FeatEditor.stories.js"]={name:"CodeBlock",docgenInfo:_0_FeatEditor_stories_CodeBlock.__docgenInfo,path:"stories/0-FeatEditor.stories.js"}),_0_FeatEditor_stories_CodeBlockHTML.__docgenInfo={description:"",methods:[],displayName:"CodeBlockHTML"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/0-FeatEditor.stories.js"]={name:"CodeBlockHTML",docgenInfo:_0_FeatEditor_stories_CodeBlockHTML.__docgenInfo,path:"stories/0-FeatEditor.stories.js"}),_0_FeatEditor_stories_BlockEdgeCase.__docgenInfo={description:"",methods:[],displayName:"BlockEdgeCase"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/0-FeatEditor.stories.js"]={name:"BlockEdgeCase",docgenInfo:_0_FeatEditor_stories_BlockEdgeCase.__docgenInfo,path:"stories/0-FeatEditor.stories.js"})},27:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return isInsideASingleBlock})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isCoveringDeleteAnnotation})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isInsideEntityType})),__webpack_require__.d(__webpack_exports__,"a",(function(){return applyDeleteAnnotation})),__webpack_require__.d(__webpack_exports__,"b",(function(){return applyStyleAnnotation})),__webpack_require__.d(__webpack_exports__,"g",(function(){return updateStyleAnnotation})),__webpack_require__.d(__webpack_exports__,"f",(function(){return toggleBlockType}));__webpack_require__(1220),__webpack_require__(479),__webpack_require__(480),__webpack_require__(133),__webpack_require__(118),__webpack_require__(75),__webpack_require__(2491),__webpack_require__(477),__webpack_require__(2493),__webpack_require__(105),__webpack_require__(1221),__webpack_require__(749),__webpack_require__(2494),__webpack_require__(1225),__webpack_require__(146),__webpack_require__(147),__webpack_require__(2495),__webpack_require__(748),__webpack_require__(460),__webpack_require__(100),__webpack_require__(101),__webpack_require__(73),__webpack_require__(102),__webpack_require__(103),__webpack_require__(88),__webpack_require__(104),__webpack_require__(241),__webpack_require__(468);var immutable__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(9),_feat_draft_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(0),_feat_draft_js_lib_modifyBlockForContentState__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(482),_feat_draft_js_lib_modifyBlockForContentState__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(_feat_draft_js_lib_modifyBlockForContentState__WEBPACK_IMPORTED_MODULE_30__),_constants__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(7),_constants__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(2),_utils_getEntitiesInSelection__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(246),_utils_getEntityBeforeSelection__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(342),_utils_getEntityAfterSelection__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(343),_utils_getEntityRangeInBlock__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(120);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var encodeStyleList=function encodeStyleList(styleList){return styleList.reduce((function(a,b){var last=a[a.length-1],code=JSON.stringify(b);return last&&last[0]===code?last[1]+=1:a.push([code,1]),a}),[]).map((function(_ref){var _ref2=_slicedToArray(_ref,2),code=_ref2[0],count=_ref2[1];return"".concat(code,":").concat(count)})).join(";")},isInsideASingleBlock=function isInsideASingleBlock(targetRange){return targetRange.getStartKey()===targetRange.getEndKey()};function isCoveringDeleteAnnotation(contentState,targetRange,entities){var currentBlock=contentState.getBlockForKey(targetRange.getStartKey());return entities.every((function(key){var range=Object(_utils_getEntityRangeInBlock__WEBPACK_IMPORTED_MODULE_36__.a)(currentBlock,key);return targetRange.getStartOffset()<=range[0]&&targetRange.getEndOffset()>=range[1]}))}var isInsideEntityType=function isInsideEntityType(contentState,targetRange,entityType){var contentBlock=contentState.getBlockForKey(targetRange.getStartKey());if(targetRange.isCollapsed()){var beforeRangeEntity=Object(_utils_getEntityBeforeSelection__WEBPACK_IMPORTED_MODULE_34__.a)(contentState,targetRange),afterRangeEntity=Object(_utils_getEntityAfterSelection__WEBPACK_IMPORTED_MODULE_35__.a)(contentState,targetRange);return beforeRangeEntity&&afterRangeEntity&&beforeRangeEntity===afterRangeEntity&&contentState.getEntity(afterRangeEntity).getType()===entityType}var entitiesInRange=Object(_utils_getEntitiesInSelection__WEBPACK_IMPORTED_MODULE_33__.a)(contentState,targetRange);if(1!==entitiesInRange.length)return!1;if(contentState.getEntity(entitiesInRange[0]).getType()!==entityType)return!1;var entityRange=Object(_utils_getEntityRangeInBlock__WEBPACK_IMPORTED_MODULE_36__.a)(contentBlock,entitiesInRange[0]);return targetRange.getStartOffset()>=entityRange[0]&&targetRange.getEndOffset()<=entityRange[1]},applyDeleteAnnotation=function applyDeleteAnnotation(contentState,targetRange){var operateEntityKey,removeRange,newContentState,cleanedText="",currentBlock=contentState.getBlockForKey(targetRange.getStartKey()),inRangeEntities=Object(_utils_getEntitiesInSelection__WEBPACK_IMPORTED_MODULE_33__.a)(contentState,targetRange),charList=currentBlock.getCharacterList(),blockText=currentBlock.getText(),targetChars=charList.slice(targetRange.getStartOffset(),targetRange.getEndOffset()),inRangeDeleteEntity=inRangeEntities.find((function(key){var entity=contentState.getEntity(key);return entity&&entity.get("type")===_constants__WEBPACK_IMPORTED_MODULE_31__.b})),marked=targetChars.map((function(_char){var entityKey=_char.get("entity");return entityKey&&contentState.getEntity(entityKey)&&contentState.getEntity(entityKey).get("type")===_constants__WEBPACK_IMPORTED_MODULE_31__.a?_char.set("entity","__ACTUAL_DELETE__"):_char.set("entity","__MARK_AS_DELETE__")})),removedCharList=charList.slice(0,targetRange.getStartOffset()).concat(marked).concat(charList.slice(targetRange.getEndOffset())).filter((function(_char2,index){return"__ACTUAL_DELETE__"!==_char2.get("entity")&&(cleanedText+=blockText[index],!0)})),annotationAddCleanedBlock=currentBlock.set("characterList",removedCharList).set("text",cleanedText);if(annotationAddCleanedBlock.findEntityRanges((function(_char3){return"__MARK_AS_DELETE__"===_char3.get("entity")}),(function(start,end){removeRange=[start,end]})),newContentState=contentState.set("blockMap",contentState.getBlockMap().set(currentBlock.get("key"),annotationAddCleanedBlock)),!removeRange)return newContentState.set("selectionAfter",targetRange.merge({anchorOffset:targetRange.getStartOffset(),focusOffset:targetRange.getStartOffset(),isBackward:!1})),newContentState;operateEntityKey=inRangeDeleteEntity;var beforeRangeEntity=removeRange[0]>0&&annotationAddCleanedBlock.getEntityAt(removeRange[0]-1),afterRangeEntity=annotationAddCleanedBlock.getEntityAt(removeRange[1]);if(beforeRangeEntity&&newContentState.getEntity(beforeRangeEntity).get("type")===_constants__WEBPACK_IMPORTED_MODULE_31__.b){operateEntityKey=operateEntityKey||beforeRangeEntity;var beforeRangeEntityRange=Object(_utils_getEntityRangeInBlock__WEBPACK_IMPORTED_MODULE_36__.a)(currentBlock,beforeRangeEntity);removeRange=[beforeRangeEntityRange[0],removeRange[1]]}if(afterRangeEntity&&newContentState.getEntity(afterRangeEntity).get("type")===_constants__WEBPACK_IMPORTED_MODULE_31__.b){operateEntityKey=operateEntityKey||afterRangeEntity;var afterRangeEntityRange=Object(_utils_getEntityRangeInBlock__WEBPACK_IMPORTED_MODULE_36__.a)(currentBlock,afterRangeEntity);removeRange=[removeRange[0],afterRangeEntityRange[1]]}return operateEntityKey?newContentState=newContentState.mergeEntityData(operateEntityKey,{time:Date.now()}):operateEntityKey=(newContentState=newContentState.createEntity(_constants__WEBPACK_IMPORTED_MODULE_31__.b,"IMMUTABLE")).getLastCreatedEntityKey(),newContentState=_feat_draft_js__WEBPACK_IMPORTED_MODULE_29__.Modifier.applyEntity(newContentState,targetRange.merge({anchorOffset:removeRange[0],focusOffset:removeRange[1],isBackward:!1}),operateEntityKey)},applyStyleAnnotation=function applyStyleAnnotation(contentState,targetRange){var operateEntityKey,maxRange,inRangeCharsStyle,currentBlock=contentState.getBlockForKey(targetRange.getStartKey()),inRangeEntities=Object(_utils_getEntitiesInSelection__WEBPACK_IMPORTED_MODULE_33__.a)(contentState,targetRange),beforeRangeEntity=Object(_utils_getEntityBeforeSelection__WEBPACK_IMPORTED_MODULE_34__.a)(contentState,targetRange),afterRangeEntity=Object(_utils_getEntityAfterSelection__WEBPACK_IMPORTED_MODULE_35__.a)(contentState,targetRange);if(inRangeEntities.length){if(!function isAllStyleAnnotation(contentState,inRangeEntities){return inRangeEntities.every((function(key){return contentState.getEntity(key).getType()===_constants__WEBPACK_IMPORTED_MODULE_31__.c}))}(contentState,inRangeEntities))return contentState;operateEntityKey=inRangeEntities[0];var ranges=[];inRangeEntities.forEach((function(key){ranges.push(Object(_utils_getEntityRangeInBlock__WEBPACK_IMPORTED_MODULE_36__.a)(currentBlock,key))})),maxRange=ranges.reduce((function(a,b){return[Math.min(a[0],b[0]),Math.max(a[1],b[1])]}),[targetRange.getStartOffset(),targetRange.getEndOffset()]),targetRange=targetRange.merge({anchorOffset:maxRange[0],focusOffset:maxRange[1],isBackward:!1})}if(afterRangeEntity&&contentState.getEntity(afterRangeEntity).getType()===_constants__WEBPACK_IMPORTED_MODULE_31__.b){operateEntityKey=afterRangeEntity;var afterRangeEntityRange=Object(_utils_getEntityRangeInBlock__WEBPACK_IMPORTED_MODULE_36__.a)(currentBlock,afterRangeEntity);targetRange=targetRange.merge({anchorOffset:Math.min(targetRange.getStartOffset(),afterRangeEntityRange[0]),focusOffset:Math.max(targetRange.getEndOffset(),afterRangeEntityRange[1]),isBackward:!1})}if(beforeRangeEntity&&contentState.getEntity(beforeRangeEntity).getType()===_constants__WEBPACK_IMPORTED_MODULE_31__.b){operateEntityKey=beforeRangeEntity;var beforeRangeEntityRange=Object(_utils_getEntityRangeInBlock__WEBPACK_IMPORTED_MODULE_36__.a)(currentBlock,beforeRangeEntity);targetRange=targetRange.merge({anchorOffset:Math.min(targetRange.getStartOffset(),beforeRangeEntityRange[0]),focusOffset:Math.max(targetRange.getEndOffset(),beforeRangeEntityRange[1]),isBackward:!1})}if(operateEntityKey){var entityOffset=0;inRangeCharsStyle=currentBlock.getCharacterList().toKeyedSeq().skipUntil((function(c,i){return i===targetRange.getStartOffset()})).takeUntil((function(c,i){return i===targetRange.getEndOffset()})).map((function(c){var entityKey=c.getEntity(),entity=entityKey&&contentState.getEntity(entityKey);return entity?function decodeStyleList(encodedString){return encodedString.split(";").map((function(item){var _item$split2=_slicedToArray(item.split(":"),2),code=_item$split2[0],count=_item$split2[1],arr=new Array(parseInt(count,10)),style=Object(immutable__WEBPACK_IMPORTED_MODULE_28__.OrderedSet)(JSON.parse(code));return arr.fill(style),arr})).reduce((function(a,b){return a.concat(Object(immutable__WEBPACK_IMPORTED_MODULE_28__.List)(b))}),Object(immutable__WEBPACK_IMPORTED_MODULE_28__.List)())}(entity.getData().initStyle).get(entityOffset++):(entityOffset=0,c.getStyle())})).toList(),contentState=contentState.mergeEntityData(operateEntityKey,{initStyle:inRangeCharsStyle})}else inRangeCharsStyle=currentBlock.getCharacterList().toKeyedSeq().skipUntil((function(c,i){return i===targetRange.getStartOffset()})).takeUntil((function(c,i){return i===targetRange.getEndOffset()})).map((function(c){return c.getStyle()})).toList(),operateEntityKey=(contentState=contentState.createEntity(_constants__WEBPACK_IMPORTED_MODULE_31__.c,"IMMUTABLE",{initStyle:encodeStyleList(inRangeCharsStyle)})).getLastCreatedEntityKey();return contentState=_feat_draft_js__WEBPACK_IMPORTED_MODULE_29__.Modifier.applyEntity(contentState,targetRange,operateEntityKey)},updateStyleAnnotation=function updateStyleAnnotation(contentState,targetRange){var inRangeCharsStyle,currentBlock=contentState.getBlockForKey(targetRange.getStartKey()),rangeStart=(contentState.getEntityMap(),targetRange.getStartOffset()),entityKey=(targetRange.getEndOffset(),currentBlock.getEntityAt(rangeStart));if(entityKey){if(inRangeCharsStyle=currentBlock.getCharacterList().toKeyedSeq().filter((function(c){return c.getEntity()==entityKey})).map((function(c){return c.getStyle()})).toList(),encodeStyleList(inRangeCharsStyle)===contentState.getEntity(entityKey).getData().initStyle){var entityRange=Object(_utils_getEntityRangeInBlock__WEBPACK_IMPORTED_MODULE_36__.a)(currentBlock,entityKey);return _feat_draft_js__WEBPACK_IMPORTED_MODULE_29__.Modifier.applyEntity(contentState,targetRange.merge({anchorOffset:entityRange[0],focusOffset:entityRange[1],isBackward:!1}),null)}return contentState}return contentState},toggleBlockType=function toggleBlockType(contentState,selection,blockType){var startKey=selection.getStartKey(),endKey=selection.getEndKey(),target=selection;if(startKey!==endKey&&0===selection.getEndOffset()){var blockBefore=contentState.getBlockBefore(endKey);endKey=blockBefore.getKey(),target=target.merge({anchorKey:startKey,anchorOffset:selection.getStartOffset(),focusKey:endKey,focusOffset:blockBefore.getLength(),isBackward:!1})}return contentState.getBlockMap().skipWhile((function(_,k){return k!==startKey})).reverse().skipWhile((function(_,k){return k!==endKey})).some((function(v){return v.getType()===_constants__WEBPACK_IMPORTED_MODULE_32__.a.ATOMIC}))?contentState:_feat_draft_js_lib_modifyBlockForContentState__WEBPACK_IMPORTED_MODULE_30___default()(contentState,target,(function(block){var typeToSet=block.getType()===blockType?_constants__WEBPACK_IMPORTED_MODULE_32__.a.PARAGRAPH:blockType,blockData={};return blockData.newBlockType=typeToSet,block.getData().get("originBlockType")||(blockData.originBlockType=block.getType()),block.merge({type:typeToSet,depth:0,data:block.getData().merge(blockData)})}))}},342:function(module,__webpack_exports__,__webpack_require__){"use strict";function getEntityBeforeRange(contentState,targetRange){var startOffset=targetRange.getStartOffset();return startOffset>0?contentState.getBlockForKey(targetRange.getStartKey()).getEntityAt(startOffset-1):null}__webpack_require__.d(__webpack_exports__,"a",(function(){return getEntityBeforeRange}))},343:function(module,__webpack_exports__,__webpack_require__){"use strict";function getEntityAfterRange(contentState,targetRange){var endOffset=targetRange.getEndOffset();return contentState.getBlockForKey(targetRange.getStartKey()).getEntityAt(endOffset)}__webpack_require__.d(__webpack_exports__,"a",(function(){return getEntityAfterRange}))},486:function(module,__webpack_exports__,__webpack_require__){"use strict";var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);__webpack_exports__.a=[{icon:"h2",type:"block",value:_constants__WEBPACK_IMPORTED_MODULE_0__.a.H2},{icon:"h3",type:"block",value:_constants__WEBPACK_IMPORTED_MODULE_0__.a.H3},{icon:"text",type:"block",value:_constants__WEBPACK_IMPORTED_MODULE_0__.a.UNSTYLED},{icon:"ol",type:"block",value:_constants__WEBPACK_IMPORTED_MODULE_0__.a.ORDERED_LIST_ITEM},{icon:"ul",type:"block",value:_constants__WEBPACK_IMPORTED_MODULE_0__.a.UNORDERED_LIST_ITEM},{icon:"blockquote",type:"block",value:_constants__WEBPACK_IMPORTED_MODULE_0__.a.BLOCKQUOTE},{icon:"cb",type:"block",value:_constants__WEBPACK_IMPORTED_MODULE_0__.a.CODE_BLOCK},{icon:"bold",type:"inline",value:_constants__WEBPACK_IMPORTED_MODULE_0__.d.BOLD},{icon:"italic",type:"inline",value:_constants__WEBPACK_IMPORTED_MODULE_0__.d.ITALIC},{icon:"underline",type:"inline",value:_constants__WEBPACK_IMPORTED_MODULE_0__.d.UNDERLINE},{icon:"code",type:"inline",value:_constants__WEBPACK_IMPORTED_MODULE_0__.d.CODE},{icon:"light",type:"inline",value:_constants__WEBPACK_IMPORTED_MODULE_0__.d.LIGHT}]},487:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(477),__webpack_require__(133),__webpack_require__(5);var immutable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);function defaultRender(props){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{"data-line-num":props.num,children:props.children})}defaultRender.displayName="defaultRender";var CodeLineOptions=Object(immutable__WEBPACK_IMPORTED_MODULE_3__.Record)({filter:function defaultFilter(block){return"code-block"===block.getType()},render:defaultRender});function CodeLineDecorator(options){this.options=CodeLineOptions(options||{}),this.lineData={}}CodeLineDecorator.prototype.getDecorations=function(block,contentState){var lineNum=1,filter=this.options.get("filter"),blockKey=block.getKey(),blockText=block.getText(),decorations=Array(blockText.length).fill(null);if(!filter(block))return Object(immutable__WEBPACK_IMPORTED_MODULE_3__.List)(decorations);for(var i=0;i<blockText.length;i+=1)if("\n"===blockText[i]){var key="".concat(blockKey).concat("-").concat("line").concat(lineNum);decorations[i]=key;var data={num:lineNum,lineBreak:!0};i===blockText.length-1&&(data.isReturnEnd=!0),this.lineData[key]=data,lineNum+=1}return Object(immutable__WEBPACK_IMPORTED_MODULE_3__.List)(decorations)},CodeLineDecorator.prototype.getComponentForKey=function(key){return this.options.get("render")},CodeLineDecorator.prototype.getPropsForKey=function(key){return this.lineData[key]},__webpack_exports__.a=CodeLineDecorator},488:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Image}));__webpack_require__(118),__webpack_require__(75),__webpack_require__(167),__webpack_require__(168),__webpack_require__(169),__webpack_require__(170),__webpack_require__(110),__webpack_require__(100),__webpack_require__(101),__webpack_require__(73),__webpack_require__(102),__webpack_require__(103),__webpack_require__(88),__webpack_require__(104);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),classnames__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(90),classnames__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_15__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Image=function(_React$PureComponent){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Image,_React$PureComponent);var _super=_createSuper(Image);function Image(){return _classCallCheck(this,Image),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Image,[{key:"render",value:function render(){var _this$props=this.props,contentState=_this$props.contentState,entityKey=_this$props.entityKey,offsetKey=_this$props.offsetKey,className=_this$props.className,onClick=_this$props.onClick,_this$props$direction=_this$props.direction,direction=void 0===_this$props$direction?"ltr":_this$props$direction,data=contentState.getEntity(entityKey).getData(),dragData={entityKey:entityKey,blockKey:offsetKey.split("-")[0]};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("div",{className:"public-DraftStyleDefault-block public-DraftStyleDefault-".concat(direction.toLowerCase()),"data-offset-key":offsetKey,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("img",{onClick:onClick,"data-offset-key":offsetKey,src:data.src,alt:data.alt,className:classnames__WEBPACK_IMPORTED_MODULE_15___default()(className,"public-DraftStyleDefault-image"),onDragStart:function onDragStart(e){e.dataTransfer.setData("text/plain",JSON.stringify(dragData))}})})}}]),Image}(react__WEBPACK_IMPORTED_MODULE_14___default.a.PureComponent);Image.__docgenInfo={description:"",methods:[],displayName:"Image"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Image/index.js"]={name:"Image",docgenInfo:Image.__docgenInfo,path:"src/components/Image/index.js"})},491:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(146),__webpack_require__(147),__webpack_require__(338);var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(341),lodash_kebabCase__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_kebabCase__WEBPACK_IMPORTED_MODULE_3__),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2);__webpack_exports__.a={inlineStyles:{LIGHT:{attributes:{class:"t-light"}}},inlineStylesFn:void 0,blockRenderers:{},defaultBlockTag:void 0,blockStyleFn:function blockStyleFn(block){var data=block.getData().toJS(),output={};return block.getType()===_constants__WEBPACK_IMPORTED_MODULE_4__.a.CODE_BLOCK&&(data.language=data.language||"javascript",delete data.syntax),Object.keys(data).forEach((function(key){output["data-".concat(lodash_kebabCase__WEBPACK_IMPORTED_MODULE_3___default()(key))]=data[key]})),{attributes:output}},entityStyleFn:void 0}},492:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(1219),__webpack_require__(480),__webpack_require__(167),__webpack_require__(168),__webpack_require__(171),__webpack_require__(169),__webpack_require__(170),__webpack_require__(110),__webpack_require__(100),__webpack_require__(101),__webpack_require__(73),__webpack_require__(102),__webpack_require__(103),__webpack_require__(88),__webpack_require__(104);var react=__webpack_require__(5),prop_types=__webpack_require__(4),prop_types_default=__webpack_require__.n(prop_types),Draft=__webpack_require__(0),classnames=__webpack_require__(90),classnames_default=__webpack_require__.n(classnames),jsx_runtime=__webpack_require__(3),Icon_ToolbarIcon=function ToolbarIcon(props){var icon=props.icon,svg=__webpack_require__(2421)("./".concat(icon,".svg"));return Object(jsx_runtime.jsx)("i",{className:"toolbarIcon",dangerouslySetInnerHTML:{__html:svg}})};Icon_ToolbarIcon.displayName="ToolbarIcon",Icon_ToolbarIcon.propTypes={icon:prop_types_default.a.string.isRequired},Icon_ToolbarIcon.__docgenInfo={description:"",methods:[],displayName:"ToolbarIcon",props:{icon:{type:{name:"string"},required:!0,description:""}}};var Icon=Icon_ToolbarIcon;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Toolbar/Icon.js"]={name:"ToolbarIcon",docgenInfo:Icon_ToolbarIcon.__docgenInfo,path:"src/components/Toolbar/Icon.js"});var Button_ToolbarButton=function ToolbarButton(props){var isActive=props.isActive,value=props.value,onClick=props.onClick;props.icon,props.type;return Object(jsx_runtime.jsx)("span",{className:classnames_default()("FeatEditorToolbar__button",{"is-active":isActive}),onMouseDown:function onMouseDown(e){e.preventDefault(),onClick(value)},children:Object(jsx_runtime.jsx)(Icon,{icon:props.icon})})};Button_ToolbarButton.displayName="ToolbarButton",Button_ToolbarButton.propTypes={},Button_ToolbarButton.__docgenInfo={description:"",methods:[],displayName:"ToolbarButton"};var Button=Button_ToolbarButton;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Toolbar/Button.js"]={name:"ToolbarButton",docgenInfo:Button_ToolbarButton.__docgenInfo,path:"src/components/Toolbar/Button.js"});var defaultButtons=__webpack_require__(486),handleToggleBlock=__webpack_require__(494),handleToggleInlineStyle=__webpack_require__(244);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Toolbar_Toolbar=function(_Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Toolbar,_Component);var _super=_createSuper(Toolbar);function Toolbar(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Toolbar),(_this=_super.call(this,props)).toggleBlockType=_this.toggleBlockType.bind(_assertThisInitialized(_this)),_this.toggleInlineStyle=_this.toggleInlineStyle.bind(_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Toolbar,[{key:"getHandler",value:function getHandler(icon){var _this2=this;return icon.onClick?(this["icon_".concat(icon.value,"_handleClick")]||(this["icon_".concat(icon.value)]=function(value){return icon.onClick.call(null,_this2.props.editorState,_this2.props.onChange,value)}),this["icon_".concat(icon.value)]):"block"===icon.type?this.toggleBlockType:"inline"===icon.type?this.toggleInlineStyle:void 0}},{key:"toggleBlockType",value:function toggleBlockType(blockType){var _this$props=this.props,editorState=_this$props.editorState,onChange=_this$props.onChange,beforeToggleBlockType=_this$props.beforeToggleBlockType;if(beforeToggleBlockType&&!beforeToggleBlockType(editorState,blockType))return;this.props.handleToggleBlockType(editorState,onChange,blockType)}},{key:"toggleInlineStyle",value:function toggleInlineStyle(inlineStyle){var _this$props2=this.props,editorState=_this$props2.editorState,onChange=_this$props2.onChange;this.props.handleToggleInlineStyle(editorState,onChange,inlineStyle)}},{key:"render",value:function render(){var _this3=this,_this$props3=this.props,icons=_this$props3.icons,editorState=_this$props3.editorState,renderIcon=_this$props3.renderIcon,blockType=Draft.RichUtils.getCurrentBlockType(editorState),currentStyle=editorState.getCurrentInlineStyle();return Object(jsx_runtime.jsx)("div",{className:"FeatEditorToolbar",children:icons.map((function(icon){return renderIcon(icon,function isIconActive(icon,blockType,currentStyle){return"block"===icon.type?blockType===icon.value:"inline"===icon.type&&currentStyle.has(icon.value)}(icon,blockType,currentStyle),_this3.getHandler(icon))}))})}}]),Toolbar}(react.Component);Toolbar_Toolbar.propTypes={onChange:prop_types_default.a.func.isRequired,editorState:prop_types_default.a.instanceOf(Draft.EditorState).isRequired,icons:prop_types_default.a.array,beforeToggleBlockType:prop_types_default.a.func,handleToggleInlineStyle:prop_types_default.a.func,handleToggleBlockType:prop_types_default.a.func,renderIcon:prop_types_default.a.func},Toolbar_Toolbar.defaultProps={icons:defaultButtons.a,handleToggleBlockType:handleToggleBlock.a,handleToggleInlineStyle:handleToggleInlineStyle.a,renderIcon:function renderIcon(icon,isActive,onClick){return Object(jsx_runtime.jsx)(Button,Object.assign({},icon,{isActive:isActive,onClick:onClick}),icon.value)}},Toolbar_Toolbar.__docgenInfo={description:"",methods:[{name:"getHandler",docblock:null,modifiers:[],params:[{name:"icon",type:null}],returns:null},{name:"toggleBlockType",docblock:null,modifiers:[],params:[{name:"blockType",type:null}],returns:null},{name:"toggleInlineStyle",docblock:null,modifiers:[],params:[{name:"inlineStyle",type:null}],returns:null}],displayName:"Toolbar",props:{icons:{defaultValue:{value:"defaultButtons",computed:!0},type:{name:"array"},required:!1,description:""},handleToggleBlockType:{defaultValue:{value:"handleToggleBlockType",computed:!0},type:{name:"func"},required:!1,description:""},handleToggleInlineStyle:{defaultValue:{value:"handleToggleInlineStyle",computed:!0},type:{name:"func"},required:!1,description:""},renderIcon:{defaultValue:{value:"(icon, isActive, onClick) => (\n  <Button\n    key={icon.value}\n    {...icon}\n    isActive={isActive}\n    onClick={onClick}\n  />\n)",computed:!1},type:{name:"func"},required:!1,description:""},onChange:{type:{name:"func"},required:!0,description:""},editorState:{type:{name:"instanceOf",value:"EditorState"},required:!0,description:""},beforeToggleBlockType:{type:{name:"func"},required:!1,description:""}}};__webpack_exports__.a=Toolbar_Toolbar;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Toolbar/Toolbar.js"]={name:"Toolbar",docgenInfo:Toolbar_Toolbar.__docgenInfo,path:"src/components/Toolbar/Toolbar.js"})},493:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(133),__webpack_require__(118),__webpack_require__(75),__webpack_require__(167),__webpack_require__(168),__webpack_require__(169),__webpack_require__(170),__webpack_require__(110),__webpack_require__(100),__webpack_require__(101),__webpack_require__(73),__webpack_require__(102),__webpack_require__(103),__webpack_require__(88),__webpack_require__(104);var react=__webpack_require__(5),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(4),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__(90),classnames_default=__webpack_require__.n(classnames),jsx_runtime=(__webpack_require__(2410),__webpack_require__(3));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var getFile=function getFile(state){return state.options&&state.options.data},ImageUploader_ImageUploader=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ImageUploader,_React$Component);var _super=_createSuper(ImageUploader);function ImageUploader(){var _this;_classCallCheck(this,ImageUploader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).state=_this.props.uploadManager.getTask(_this.props.uploadKey)||{},_this.prepareImage=function(src){var image=new Image;image.onload=function(){_this.setState({isImageReady:!0})},image.src=src},_this.handleChange=function(data){_this.setState(data)},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ImageUploader,[{key:"componentDidMount",value:function componentDidMount(){var _this$props=this.props,uploadKey=_this$props.uploadKey;_this$props.uploadManager.subscribe(uploadKey,this.handleChange);var file=getFile(this.state),src=function getSrc(state){return state.data&&state.data.src}(this.state);file?this.getPreviewInfo(file):src&&this.prepareImage(src)}},{key:"componentWillUpdate",value:function componentWillUpdate(nextProps,nextState){var nextFile=getFile(nextState),file=getFile(this.state);nextFile&&nextFile!==file&&(console.log("read file"),this.getPreviewInfo(nextFile)),!this.state.data&&nextState.data&&nextState.data.src&&this.prepareImage(nextState.data.src)}},{key:"getPreviewInfo",value:function getPreviewInfo(file){var _this2=this;(function(file){var reader=new FileReader;return new Promise((function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onabort=function(){return reject("file reading was aborted")},reader.onerror=function(){return reject("file reading has failed")},reader.readAsDataURL(file)}))})(file).then((function(url){return _this2.setState({previewURL:url})})).catch((function(){_this2.setState({previewHint:"Failed To Read Image"})}))}},{key:"render",value:function render(){var _this$state=this.state,loading=_this$state.loading,data=_this$state.data,error=_this$state.error,previewURL=_this$state.previewURL,previewHint=_this$state.previewHint,isImageReady=_this$state.isImageReady,_this$props2=this.props,onClick=_this$props2.onClick,offsetKey=_this$props2.offsetKey,entityKey=_this$props2.entityKey,className=_this$props2.className;if(loading||!isImageReady||error)return Object(jsx_runtime.jsxs)("div",{className:"FeatEditor__imageUploader",children:[!previewURL&&!previewHint&&Object(jsx_runtime.jsx)("div",{children:"Uploading..."}),error&&Object(jsx_runtime.jsx)("div",{className:"FeatEditor__imageUploaderError",children:"Failed To Upload Image;"}),previewURL&&!isImageReady&&Object(jsx_runtime.jsx)("img",{className:"FeatEditor__imagePreview",src:previewURL,alt:""}),!previewURL&&previewHint&&Object(jsx_runtime.jsx)("div",{children:previewHint})]});if(data){var dragData={entityKey:entityKey,blockKey:offsetKey.split("-")[0]};return Object(jsx_runtime.jsx)("div",{className:"FeatEditor__imageWrap",children:Object(jsx_runtime.jsx)("img",{onClick:onClick,"data-offset-key":offsetKey,src:data.src,alt:data.alt,className:classnames_default()("FeatEditor__image",className),onDragStart:function onDragStart(e){e.dataTransfer.setData("text/plain",JSON.stringify(dragData))}})})}return Object(jsx_runtime.jsx)("div",{children:"TODO"})}}]),ImageUploader}(react_default.a.Component);ImageUploader_ImageUploader.propTypes={className:prop_types_default.a.string,contentState:prop_types_default.a.object,offsetKey:prop_types_default.a.string,entityKey:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]).isRequired,uploadKey:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]).isRequired,uploadManager:prop_types_default.a.shape({getTask:prop_types_default.a.func}).isRequired},ImageUploader_ImageUploader.__docgenInfo={description:"",methods:[{name:"getPreviewInfo",docblock:null,modifiers:[],params:[{name:"file",type:null}],returns:null},{name:"prepareImage",docblock:null,modifiers:[],params:[{name:"src",type:null}],returns:null},{name:"handleChange",docblock:null,modifiers:[],params:[{name:"data",type:null}],returns:null}],displayName:"ImageUploader",props:{className:{type:{name:"string"},required:!1,description:""},contentState:{type:{name:"object"},required:!1,description:""},offsetKey:{type:{name:"string"},required:!1,description:""},entityKey:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!0,description:""},uploadKey:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!0,description:""},uploadManager:{type:{name:"shape",value:{getTask:{name:"func",required:!1}}},required:!0,description:""}}};__webpack_exports__.a=ImageUploader_ImageUploader;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ImageUploader/index.js"]={name:"ImageUploader",docgenInfo:ImageUploader_ImageUploader.__docgenInfo,path:"src/components/ImageUploader/index.js"})},494:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return handleToggleBlockType}));__webpack_require__(133),__webpack_require__(1220),__webpack_require__(118),__webpack_require__(75),__webpack_require__(105),__webpack_require__(202),__webpack_require__(110);var Draft=__webpack_require__(0),generateRandomKey=__webpack_require__(111),generateRandomKey_default=__webpack_require__.n(generateRandomKey),immutable=__webpack_require__(9);function isRangeOfBlockType(contentState,selection,blockType){var key=selection.getStartKey(),endKey=selection.getEndKey(),block=contentState.getBlockForKey(key);if(block.getType()!==blockType)return!1;if(key===endKey)return!0;do{if((block=contentState.getBlockAfter(key)).getType()!==blockType)return!1;key=block.getKey()}while(key!==endKey);return!0}var constants=__webpack_require__(2);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function handleToggleBlockType(editorState,onChange,blockType){var newEditorState,selection=editorState.getSelection(),startKey=selection.getStartKey(),endKey=selection.getEndKey();if(blockType===constants.a.CODE_BLOCK||blockType===constants.a.BLOCKQUOTE){var contentState=editorState.getCurrentContent();if(isRangeOfBlockType(contentState,selection,blockType)){var blockMap=contentState.getBlockMap(),splitedBlocks=blockMap.toSeq().skipUntil((function(b){return b.getKey()===startKey})).takeUntil((function(b){return b.getKey()===endKey})).concat(Object(immutable.Map)(_defineProperty({},endKey,blockMap.get(endKey)))).reduce((function(splited,block){for(var lines=block.getText().split("\n"),characterList=block.getCharacterList(),contacted=splited,initChar=0,i=0;i<lines.length;i+=1){var lineKey=generateRandomKey_default()(),lineBlock=new Draft.ContentBlock({key:lineKey,type:constants.a.UNSTYLED,text:lines[i],characterList:characterList.slice(initChar,initChar+lines[i].length),depth:block.getDepth(),data:block.getData()});initChar+=lines[i].length+1,contacted=contacted.concat(Object(immutable.Map)(_defineProperty({},lineKey,lineBlock)))}return contacted}),new immutable.OrderedMap),beginning=blockMap.takeUntil((function(b){return b.getKey()===startKey})),tailing=blockMap.skipUntil((function(b){return b.getKey()===endKey})).slice(1),replaced=beginning.concat(splitedBlocks).concat(tailing);contentState=contentState.merge({blockMap:replaced,selectionBefore:selection,selectionAfter:selection.merge({anchorKey:splitedBlocks.first().getKey(),anchorOffset:0,focusKey:splitedBlocks.last().getKey(),focusOffset:splitedBlocks.last().getText().length})}),newEditorState=Draft.EditorState.push(editorState,contentState,"change-block-type")}else{var afterSelection;if(contentState=Draft.Modifier.setBlockType(contentState,selection,blockType),startKey!==endKey){var lastBlockKey=startKey,nextBlock=contentState.getBlockForKey(startKey),text=nextBlock.getText(),charList=nextBlock.getCharacterList();do{nextBlock=contentState.getBlockAfter(lastBlockKey),text+="\n".concat(nextBlock.getText()),charList=charList.concat([Draft.CharacterMetadata.create()]).concat(nextBlock.getCharacterList()),lastBlockKey=nextBlock.getKey()}while(lastBlockKey!==endKey);var mergedBlock=contentState.getBlockForKey(startKey).set("characterList",charList).set("text",text),mergeBlockMap=new immutable.OrderedMap({startKey:mergedBlock}),replaceRange=(new Draft.SelectionState).merge({anchorKey:startKey,anchorOffset:0,focusKey:endKey,focusOffset:nextBlock.getLength()});contentState=Draft.Modifier.replaceWithFragment(contentState,replaceRange,mergeBlockMap),afterSelection=(new Draft.SelectionState).merge({anchorKey:mergedBlock.getKey(),focusKey:mergedBlock.getKey(),anchorOffset:mergedBlock.getLength(),focusOffset:mergedBlock.getLength()})}newEditorState=Draft.EditorState.push(editorState,contentState,"change-block-type"),afterSelection&&(newEditorState=Draft.EditorState.forceSelection(newEditorState,afterSelection))}}else if(0===blockType.indexOf("header")){var _contentState=editorState.getCurrentContent();if(isRangeOfBlockType(_contentState,selection,blockType))_contentState=Draft.Modifier.setBlockType(_contentState,selection,"unstyled"),newEditorState=Draft.EditorState.push(editorState,_contentState,"change-block-type");else{var startBlock=(_contentState=Draft.Modifier.setBlockType(_contentState,selection,blockType)).getBlockForKey(startKey),endBlock=_contentState.getBlockForKey(endKey),range=new Draft.SelectionState({anchorKey:startBlock.getKey(),anchorOffset:0,focusKey:endBlock.getKey(),focusOffset:endBlock.getLength()});_contentState=(_contentState=Draft.Modifier.removeInlineStyle(_contentState,range,constants.d.BOLD)).merge({selectionAfter:selection}),newEditorState=Draft.EditorState.push(editorState,_contentState,"change-block-type")}}else newEditorState=Draft.RichUtils.toggleBlockType(editorState,blockType);newEditorState&&onChange(newEditorState)}},7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ANNOTATION_ADD})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ANNOTATION_DELETE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ANNOTATION_STYLE}));var ANNOTATION_ADD="annotation:add",ANNOTATION_DELETE="annotation:delete",ANNOTATION_STYLE="annotation:style"}},[[1229,1,2]]]);
//# sourceMappingURL=main.97bdd5a1199993a24b8c.bundle.js.map